<html>
<head>
  <title>Evernote Export</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/305741 (zh-CN, DDL); Windows/6.1.7601 Service Pack 1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="671"/>

<div>
<span><div><div><span style="font-size: 11pt; font-weight: bold;">Springboot之前出现的问题</span></div><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 11pt; color: rgb(26, 26, 26);">Spring框架需要进行大量的配置</span></span></div><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 11pt; color: rgb(26, 26, 26);">项目的依赖管理冲突</span></span></div><div><hr/></div><div><span style="font-size: 11pt; font-weight: bold;">为什么是SpringBoot</span></div><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 11pt; color: rgb(26, 26, 26);">    Spring Boot本身并不提供Spring框架的核心特性以及扩展功能，只是用于快速、敏捷地开发新一代基于Spring框架的应用程序。也就是说，它并不是用来替代Spring的解决方案，而是和Spring框架紧密结合用于提升Spring开发者体验的工具。</span></span></div><div><br/></div><div><br/></div><div><span style="border: 0px; outline: 0px; letter-spacing: 0.5px; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 11pt; color: rgb(43, 43, 43);">Spring Boot继承了Spring的优点，并新增了一些新功能和特性</span></span></div><div><span style="font-size: 11pt;">（0）从字面理解，Boot是引导的意思，因此SpringBoot帮助开发者快速搭建Spring框架，</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 11pt; color: rgb(36, 41, 46);">Spring 项目引导页面可以在几秒构建一个项目</span></div><div><span style="font-size: 11pt;">（1）</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 11pt; color: rgb(36, 41, 46);">Spring Boot 内置了多种种强大的测试框架，<span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 11pt; color: rgb(36, 41, 46);">只需要在项目中引入</span><span style="box-sizing: border-box; background-color: rgba(27, 31, 35, 0.0470588); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 11pt; color: rgb(199, 37, 78);">spring-boot-start-test</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 11pt; color: rgb(36, 41, 46);">依赖包</span></span></div><div><span style="font-size: 11pt;">（2）</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 11pt; color: rgb(36, 41, 46);">Spring Boot 的自动配置让配置变简单</span><span style="font-size: 11pt;">；</span></div><div><span style="font-size: 11pt;">（3）SpringBoot的起步依赖让依赖管理更加简单；</span></div><div><font style="font-size: 11pt;"><span style="font-size: 11pt; line-height: 1.45;">（4）</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 11pt; color: rgb(36, 41, 46); line-height: 1.45;">Spring Boot Actuator对应用系统监控的集成功能</span><span style="font-size: 11pt; line-height: 1.45;">；</span></font></div><div><br/></div><div><font style="font-size: 11pt;"><span style="font-size: 11pt; line-height: 1.45;">（5）</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 11pt; color: rgb(26, 26, 26); line-height: 1.45;">现在spring boot和spring cloud是现在java开发框架的主流了</span></font></div><div><br/></div><div><br/></div><div><font style="font-size: 11pt;"><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">     Spring Boot</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">提供了一种新的编程范式，能在最小的阻力下开发</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">Spring</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">应用程序。有了它，</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">你可以更加敏捷地开发</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">Spring</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">应用程序，专注于应用程序的功能，不用在</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">Spring</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">的配置上多花功</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">夫，甚至完全不用配置。实际上，</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">Spring Boot</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">的一项重要工作就是让</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">Spring</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">不再成为你成功路上</span><span style="font-size: 11pt; color: rgb(1, 1, 1); line-height: 1.45;">的绊脚石。   </span><span style="font-size: 11pt; color: rgb(1, 1, 1); line-height: 19px;"> ——《</span><span style="font-size: 11pt; color: rgb(1, 1, 1); line-height: 19px;">SpringBoot实战》</span></font></div><div><hr/></div><div><br/></div><div><span style="font-size: 11pt; font-weight: bold;">springboot如何做到</span></div><div><br/></div><div><span style="font-size: 11pt; line-height: 21px;">构建springboot项目</span></div><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><font style="font-size: 11pt;"><span style="font-size: 11pt; color: rgb(36, 41, 46);">访问</span><a href="http://start.spring.io/" style="font-size: 11pt;">http://start.spring.io/</a></font></span></div><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 11pt; color: rgb(36, 41, 46);">选择构建工具Maven Project、Spring Boot版本以及一些工程基本信息</span></span></div><div><span style="font-size: 11pt;"><img src="SpringBoot_files/Image.png" type="image/png" data-filename="" style="color: rgb(36, 41, 46);"/></span></div><div><span style="font-size: 11pt;">下载压缩包以后直接导入到ide中就可以了，大概就是这个样子</span></div><div><span style="font-size: 11pt;"><img src="SpringBoot_files/Image [1].png" type="image/png" data-filename=""/></span></div><div><br/></div><div><hr/><div><br/></div></div><div><span style="font-size: 11pt;">这个是我大致画的一些spring的东西，先从代码结构说吧</span></div><div><a href="http://naotu.baidu.com/file/e8972e3eff7fc8a1a54dd7c2d6d946d5" style="font-size: 11pt;">http://naotu.baidu.com/file/e8972e3eff7fc8a1a54dd7c2d6d946d5</a></div><div><br/></div><div><span style="font-size: 11pt;">这是一般的主程序入口，当然在我们的项目中，因为并没有使用springboot内置的tomcat，所以启动方式有所不同</span></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><br/></div><div><font style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(255, 70, 53); font-family: Consolas;">@</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(255, 70, 53); font-family: Consolas; text-decoration: underline;">SpringBootApplication</span></font></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">public</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">class</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas; text-decoration: underline;">DemoApplication</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">{</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">       </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">public</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">static</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">void</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">main(String[]</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">args</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">) {</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">              </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas; text-decoration: underline;">SpringApplication</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">.run(DemoApplication.</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">class</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">,</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">args</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">);</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">       }</span></span></span></span></div><div><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">}</span></span></span></span></div></div><div><br/></div><div><span style="font-size: 11pt;">不适用内置tomcat的情况，原理没有区别</span></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(255, 0, 0); font-family: Consolas;">@SpringBootApplication</span></span></div><div style="min-height: 11pt;"><font style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas;">@EnableAutoConfiguration</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">(exclude = { DataSourceAutoConfiguration.</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">class</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">, RedisAutoConfiguration.</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">class</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">,</span></font></div><div style="min-height: 11pt;"><font style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">              DataSourceTransactionManagerAutoConfiguration.</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">class</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">, })</span></font></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas;">@ComponentScan</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">({</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(42, 0, 255); font-family: Consolas;">&quot;com.fanli.*&quot;</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">})</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">public</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">class</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">Application</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">extends</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">SpringBootServletInitializer {</span></div><div style="min-height: 11pt;"><font style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">       </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas;">@Override</span></font></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">       </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">protected</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">SpringApplicationBuilder configure(SpringApplicationBuilder</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">application</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">) {</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">              </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">return</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">application</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">.sources(Application.</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">class</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">);</span></div><div><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">       }</span></span></div><div><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">}</span></span></div></div><div><br/></div><div><hr/></div><div><font style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100);">@</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); text-decoration: underline;">SpringBootApplication</span></font></div><div><a href="http://naotu.baidu.com/file/22b4f6b67337826229f8c66e503315e9?token=a382b478d700da4b" style="color: rgb(51, 51, 51); font-family: Consolas; text-decoration: underline;">http://naotu.baidu.com/file/22b4f6b67337826229f8c66e503315e9?token=a382b478d700da4b</a></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><br style="color: rgb(51, 51, 51);"/></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">/**</span></span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;"> * Indicates a</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 63, 191); font-family: Consolas;">{@link Configuration configuration}</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">class that declares one or more</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;"> *</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 63, 191); font-family: Consolas;">{@link Bean @Bean}</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">methods and also triggers</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 63, 191); font-family: Consolas;">{@link EnableAutoConfiguration</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 63, 191); font-family: Consolas;"> * auto-configuration}</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">and</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 63, 191); font-family: Consolas;">{@link ComponentScan component scanning}</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">. This is a convenience</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;"> * annotation that is equivalent to declaring {@code @Configuration},</span></span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;"> * {@code @EnableAutoConfiguration} and {@code @ComponentScan}.</span></span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;"> *</span></span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;"> *</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 159, 191); font-family: Consolas; font-weight: bold;">@author</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas; text-decoration: underline;">Phillip</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas; text-decoration: underline;">Webb</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;"> *</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 159, 191); font-family: Consolas; font-weight: bold;">@author</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas; text-decoration: underline;">Stephane</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas; text-decoration: underline;">Nicoll</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;"> *</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 159, 191); font-family: Consolas; font-weight: bold;">@since</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">1.2.0</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;"> */</span></span></span></span></div><div style="min-height: 11pt;"><font face="Consolas" style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(100, 100, 100);">@Target</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(51, 51, 51);">(ElementType.</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(0, 0, 192); font-style: italic; font-weight: bold;">TYPE</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(51, 51, 51);">)</span></font></div><div style="min-height: 11pt;"><font face="Consolas" style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(100, 100, 100);">@Retention</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(51, 51, 51);">(RetentionPolicy.</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(0, 0, 192); font-style: italic; font-weight: bold;">RUNTIME</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(51, 51, 51);">)</span></font></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas;">@Documented</span></span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas;">@Inherited</span></span></span></span></div><div style="min-height: 11pt;"><font style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas;">@</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas; text-decoration: underline;">SpringBootConfiguration</span></font></div><div style="min-height: 11pt;"><font style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas;">@</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas; text-decoration: underline;">EnableAutoConfiguration</span></font></div><div style="min-height: 11pt;"><font face="Consolas" style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(100, 100, 100);">@</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(51, 51, 51); text-decoration: underline;">ComponentScan</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(51, 51, 51);">(excludeFilters = {</span></font></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">              </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas;">@</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas; text-decoration: underline;">Filter</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">(type =</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas; text-decoration: underline;">FilterType</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">.CUSTOM, classes =</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas; text-decoration: underline;">TypeExcludeFilter</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">.</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">class</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">),</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">              </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas;">@</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas; text-decoration: underline;">Filter</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">(type =</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas; text-decoration: underline;">FilterType</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">.CUSTOM, classes =</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas; text-decoration: underline;">AutoConfigurationExcludeFilter</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">.</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">class</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">) })</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">public</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">@interface</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas; text-decoration: underline;">SpringBootApplication</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">{</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">     ......</span></span></span></span></div><div><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">}</span></span></span></span></div></div><div><br/></div><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 11pt; color: rgb(79, 79, 79);">@SpringBootConfiguration，@EnableAutoConfiguration以及@ComponentScan的组合</span></div><div><hr/></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">/**</span></span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);"> * Indicates that a class provides Spring Boot application</span></span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);"> *</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 63, 191);">{@link Configuration @Configuration}</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">. Can be used as an alternative to the Spring's</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);"> * standard {@code @Configuration} annotation so that configuration can be found</span></span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);"> * automatically (for example in tests).</span></span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);"> *</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 127, 159);">&lt;p&gt;</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);"> * Application should only ever include</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 127, 159);">&lt;em&gt;</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">one</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 127, 159);">&lt;/em&gt;</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">{@code @SpringBootConfiguration} and</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);"> * most</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); text-decoration: underline;">idiomatic</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">Spring Boot applications will inherit it from</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);"> * {@code @SpringBootApplication}.</span></span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);"> *</span></span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);"> *</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 159, 191); font-weight: bold;">@author</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); text-decoration: underline;">Phillip</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); text-decoration: underline;">Webb</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);"> *</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 159, 191); font-weight: bold;">@since</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">1.4.0</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);"> */</span></span></span></span></div><div style="min-height: 11pt;"><font style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100);">@</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); text-decoration: underline;">Target</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); text-decoration: underline;">ElementType</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">.TYPE)</span></font></div><div style="min-height: 11pt;"><font style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100);">@</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); text-decoration: underline;">Retention</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); text-decoration: underline;">RetentionPolicy</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">.RUNTIME)</span></font></div><div style="min-height: 11pt;"><font style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100);">@</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); text-decoration: underline;">Documented</span></font></div><div style="min-height: 11pt;"><font style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100);">@</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); text-decoration: underline;">Configuration</span></font></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-weight: bold;">public</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-weight: bold;">@interface</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); text-decoration: underline;">SpringBootConfiguration</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">{</span></div><div><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">}</span></span></span></span></div></div><div><font style="font-size: 11pt;"><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 11pt; color: rgb(79, 79, 79);">@SpringBootConfiguration而</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 11pt; color: rgb(79, 79, 79);">@Configuration有相同的作用，配备了该注解的类就能够以JavaConfig的方式完成一些配置，可以不再使用XML配置</span></font></div><div><hr/></div><div><br/></div><div><br/></div><div><font style="font-size: 11pt;"><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 11pt; color: rgb(79, 79, 79);">@ComponentScan</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 11pt; color: rgb(79, 79, 79);">注解完成的是自动扫描的功能，相当于Spring XML配置文件中的</span></font></div><div><font style="font-size: 11pt;"><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(246, 248, 250); font-size: 11pt; color: rgb(0, 0, 0);">&lt;</span><span style="box-sizing: border-box; outline: 0px; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 11pt; color: rgb(0, 0, 136);">context</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(246, 248, 250); font-size: 11pt; color: rgb(0, 0, 0);">:</span><span style="box-sizing: border-box; outline: 0px; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 11pt; color: rgb(0, 0, 136);">component</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(246, 248, 250); font-size: 11pt; color: rgb(0, 0, 0);">-scan&gt;,</span></font></div><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 11pt; color: rgb(79, 79, 79);">如果不设置的话默认扫描@ComponentScan注解所在类的同级类和同级目录下的所有类，所以对于一个Spring Boot项目，一般会把入口类放在顶层目录中，这样就能够保证源码目录下的所有类都能够被扫描到。如果需要设置的话如下代码</span></span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100);">@SpringBootApplication</span></span></span></span></div><div style="min-height: 11pt;"><font style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100);">@EnableAutoConfiguration</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">(exclude = { DataSourceAutoConfiguration.</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-weight: bold;">class</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">, RedisAutoConfiguration.</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-weight: bold;">class</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">,</span></font></div><div style="min-height: 11pt;"><font style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">              DataSourceTransactionManagerAutoConfiguration.</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-weight: bold;">class</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">, })</span></font></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-weight: bold;">@ComponentScan</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-weight: bold;">({</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(42, 0, 255); font-weight: bold;">&quot;com.fanli.*&quot;</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-weight: bold;">})</span></div><div><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-weight: bold;">public</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-weight: bold;">class</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">Application</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-weight: bold;">extends</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">SpringBootServletInitializer {。。。。。。</span></div></div><div><br/></div><div><hr/></div><div><br/></div><div><br/></div><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 11pt; color: rgb(51, 51, 51); font-weight: bold; line-height: 1.5;">@EnableAutoConfiguration（核心）</span></span></div><div><span style="text-indent: 0px; letter-spacing: normal; orphans: 2; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><font style="font-size: 11pt;"><span style="font-size: 11pt; color: rgb(51, 51, 51);">　这个注释</span><span style="font-size: 11pt; color: rgb(255, 0, 0);">告诉SpringBoot“猜”你将如何想配置Spring,基于你已经添加的依赖项</span><span style="font-size: 11pt; color: rgb(51, 51, 51);">，如果我们使用了spring-boot-starter-web并且已经添加Tomcat和Spring MVC,</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 11pt; color: rgb(51, 51, 51); line-height: 1.5;">@EnableAutoConfiguration</span><span style="font-size: 11pt; color: rgb(51, 51, 51);">自动将假设您正在开发一个web应用程序并添加相应的Spring设置。</span></font></span></div><div><br/></div><div><font style="font-size: 11pt;"><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">    Spring Boot</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">的自动配置是一个运行时（更准确地说，是应用程序启动时）的过程，</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">考虑了众多因素，才决定</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">Spring</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">配置应该用哪个，不该用哪个。<span style="min-height: 12pt; font-size: 11pt; color: rgb(1, 1, 1);">举个例子<span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">。</span></span></span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">Spring</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">的</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">JdbcTemplate</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">是不是在</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">Classpath</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">里？如果是，并且有</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">DataSource</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">的</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">Bean</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">，则</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">自动配置一个</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">JdbcTemplate</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">的</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">Bean</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">。</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1); line-height: 1.45;">每当应用程序启动的时候，</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1); line-height: 1.45;">Spring Boot</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1); line-height: 1.45;">的自动配置都要做将近</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1); line-height: 1.45;">200</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1); line-height: 1.45;">个这样的决定，涵盖安全、</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">集成、持久化、</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">Web</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">开发等诸多方面。所有这些自动配置就是为了尽量不让你自己写配置。</span></font></div><div><br/></div><div style="min-height: 13pt;"><font style="font-size: 11pt;"><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">    在向应用程序加入</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">Spring Boot</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">时，有个名为</span><span style="min-height: 13pt;"><span style="font-size: 11pt; color: rgb(255, 0, 0);">spring-boot-autoconfigure</span></span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">的</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">JAR</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">文件，其中包含了</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">很多自动配置类（</span><span style="box-sizing: border-box; outline: 0px; word-break: break-all; font-size: 11pt; color: rgb(1, 1, 1);">自动配置类就是普通的Spring @Configuration类，通过SpringFactoriesLoader机制完成加载，实现上通常使用@Conditional(比如@ConditionalOnClass或者@ConditionalOnMissingBean）</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">）。</span></font></div><div style="min-height: 13pt;"><font style="font-size: 11pt;"><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);"><img src="SpringBoot_files/Image [2].png" type="image/png" data-filename="" style="font-size: 11pt; color: rgb(1, 1, 1);"/>每个配置类都在应用程<img src="SpringBoot_files/Image [3].png" type="image/png" data-filename="" style="font-size: 11pt; color: rgb(1, 1, 1);" width="535"/>序的</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">Classpath</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">里，都有机会为应用程序的配置添砖加瓦。这</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1); line-height: 1.45;">些配置类里有用于</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1); line-height: 1.45;">AOP</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1); line-height: 1.45;">的配置，有用于</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1); line-height: 1.45;">Spring Data JPA</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1); line-height: 1.45;">的配置，有用于</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1); line-height: 1.45;">Spiring MVC</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1); line-height: 1.45;">的配置，</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1); line-height: 1.45;">还有很多其他东西的配置，你可以自己选择是否在</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1); line-height: 1.45;">Spring</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1); line-height: 1.45;">应用程序里使用它们。</span></font></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><font face="Consolas" style="font-size: 11pt;"><span style="box-sizing: border-box; outline: 0px; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(155, 133, 157);">@SuppressWarnings</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(246, 248, 250); font-size: 11pt; font-family: Consolas; color: rgb(0, 0, 0);">(</span><span style="box-sizing: border-box; outline: 0px; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(0, 153, 0);">&quot;deprecation&quot;</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(246, 248, 250); font-size: 11pt; font-family: Consolas; color: rgb(0, 0, 0);">)</span><span style="background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(51, 51, 51);"> </span></font></div><div><font face="Consolas" style="font-size: 11pt;"><span style="box-sizing: border-box; outline: 0px; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(155, 133, 157);">@Target</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(246, 248, 250); font-size: 11pt; font-family: Consolas; color: rgb(0, 0, 0);">(ElementType.TYPE)</span><span style="background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(51, 51, 51);"> </span></font></div><div><font face="Consolas" style="font-size: 11pt;"><span style="box-sizing: border-box; outline: 0px; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(155, 133, 157);">@Retention</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(246, 248, 250); font-size: 11pt; font-family: Consolas; color: rgb(0, 0, 0);">(RetentionPolicy.RUNTIME)</span></font></div><div><font face="Consolas" style="font-size: 11pt;"><span style="box-sizing: border-box; outline: 0px; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(155, 133, 157);">@Documented</span><span style="background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(51, 51, 51);"> </span></font></div><div><span style="box-sizing: border-box; outline: 0px; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(155, 133, 157); font-family: Consolas;">@Inherited</span></span></span></div><div><font style="font-size: 11pt;"><span style="box-sizing: border-box; outline: 0px; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(155, 133, 157); font-family: Consolas;">@</span><span style="box-sizing: border-box; outline: 0px; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(255, 0, 0); font-family: Consolas;">AutoConfigurationPackage</span></span></font></div><div><font style="font-size: 11pt;"><span style="box-sizing: border-box; outline: 0px; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(255, 0, 0); font-family: Consolas;">@Import</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(246, 248, 250); font-size: 11pt; color: rgb(255, 0, 0); font-family: Consolas;">(EnableAutoConfigurationImportSelector.class)</span></font></div><div><span style="box-sizing: border-box; outline: 0px; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(0, 0, 136); font-family: Consolas;">public</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(246, 248, 250); font-size: 11pt; color: rgb(0, 0, 0); font-family: Consolas;">@</span><span style="box-sizing: border-box; outline: 0px; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(0, 0, 136); font-family: Consolas;">interface</span> <span style="box-sizing: border-box; outline: 0px; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(255, 0, 0); font-family: Consolas;">EnableAutoConfiguration</span> <span style="box-sizing: border-box; outline: 0px; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(0, 0, 0); font-family: Consolas;">{</span> <span style="box-sizing: border-box; outline: 0px; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0); font-family: Consolas;">// ...</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(246, 248, 250); font-size: 11pt; color: rgb(0, 0, 0); font-family: Consolas;">}</span></div></div><div><br/></div><div><br/></div><div><span style="font-size: 11pt;">这个@</span><span style="box-sizing: border-box; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); outline: 0px; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 11pt; color: rgb(255, 0, 0);">AutoConfigurationPackage</span><span style="box-sizing: border-box; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); outline: 0px; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 11pt;">仅限于引入<span style="box-sizing: border-box; outline: 0px; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(255, 0, 0);">@Import</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(246, 248, 250); font-size: 11pt; color: rgb(255, 0, 0);">(AutoConfigurationPackages.Registrar.class)</span></span></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><font face="Consolas" style="font-size: 11pt;"><span style="box-sizing: border-box; outline: 0px; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(155, 133, 157);">@Target</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(246, 248, 250); font-size: 11pt; font-family: Consolas; color: rgb(0, 0, 0);">(ElementType.TYPE)</span></font></div><div><font face="Consolas" style="font-size: 11pt;"><span style="box-sizing: border-box; outline: 0px; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(155, 133, 157);">@Retention</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(246, 248, 250); font-size: 11pt; font-family: Consolas; color: rgb(0, 0, 0);">(RetentionPolicy.RUNTIME)</span></font></div><div><font face="Consolas" style="font-size: 11pt;"><span style="box-sizing: border-box; outline: 0px; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(155, 133, 157);">@Documented</span><span style="background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(51, 51, 51);"> </span></font></div><div><span style="box-sizing: border-box; outline: 0px; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(155, 133, 157); font-family: Consolas;">@Inherited</span></span></span></div><div><font style="font-size: 11pt;"><span style="box-sizing: border-box; outline: 0px; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(255, 0, 0); font-family: Consolas;">@Import</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(246, 248, 250); font-size: 11pt; color: rgb(255, 0, 0); font-family: Consolas;">(AutoConfigurationPackages.Registrar.class)</span></font></div><div><span style="box-sizing: border-box; outline: 0px; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(0, 0, 136); font-family: Consolas;">public</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(246, 248, 250); font-size: 11pt; color: rgb(0, 0, 0); font-family: Consolas;">@</span><span style="box-sizing: border-box; outline: 0px; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(0, 0, 136); font-family: Consolas;">interface</span> <span style="box-sizing: border-box; outline: 0px; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(79, 79, 79); font-family: Consolas;">AutoConfigurationPackage</span> <span style="box-sizing: border-box; outline: 0px; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(0, 0, 0); font-family: Consolas;">{</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(246, 248, 250); font-size: 11pt; color: rgb(0, 0, 0); font-family: Consolas;">}</span></div></div><div><br/></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas;"> </span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas;">@</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas; text-decoration: underline;">Order</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas;">(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas; text-decoration: underline;">Ordered</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas;">.HIGHEST_PRECEDENCE)</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas;">  </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">static</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">class</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas;">Registrar</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">implements</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas; text-decoration: underline;">ImportBeanDefinitionRegistrar</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas;">,</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas; text-decoration: underline;">DeterminableImports</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas;">{</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas;">          </span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas;">@Override</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas;">          </span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">public</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">void</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas;">registerBeanDefinitions(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas; text-decoration: underline;">AnnotationMetadata</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">metadata</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas;">,</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas;">                  </span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas; text-decoration: underline;">BeanDefinitionRegistry</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">registry</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas;">) {</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas;">               register(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">registry</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas;">,</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold; text-decoration: underline;">new</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas; text-decoration: underline;">PackageImport(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas; text-decoration: underline;">metadata</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas; text-decoration: underline;">)</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas;">.getPackageName());</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas;">           }</span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas;">          </span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas;">@Override</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas;">          </span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">public</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas; text-decoration: underline;">Set</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas;">&lt;Object&gt; determineImports(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas; text-decoration: underline;">AnnotationMetadata</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">metadata</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas;">) {</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas;">              </span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">return</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas; text-decoration: underline;">Collections</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas;">.&lt;Object&gt;singleton(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">new</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas; text-decoration: underline;">PackageImport</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas;">(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">metadata</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas;">));</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas;">           }</span></span></span></div><div><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas;">   }</span></span></span></div></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><font style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">    <span style="font-size: 11pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">   </span></span><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="font-size: 11pt; background-color: rgb(251, 250, 248); color: rgb(63, 95, 191); font-family: Consolas;">/**</span></span></font></div><div style="min-height: 11pt;"><font face="Consolas" style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(63, 95, 191);">        * Programmatically registers the auto</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(127, 127, 159);">-</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(63, 95, 191);">configuration package names. Subsequent</span></font></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">        * invocations will add the given package names to those that have already been</span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">        * registered. You can use this method to manually define the base packages that will</span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">        * be used for a given</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 63, 191); font-family: Consolas;">{@link BeanDefinitionRegistry}</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">. Generally it's recommended that</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">        * you don't call this method directly, but instead rely on the default convention</span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">        * where the package name is set from your {@code @EnableAutoConfiguration}</span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">        * configuration class or classes.</span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">        *</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 159, 191); font-family: Consolas; font-weight: bold;">@param</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">registry the bean definition registry</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">        *</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 159, 191); font-family: Consolas; font-weight: bold;">@param</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">packageNames the package names to set</span></div><div style="min-height: 11pt;"><div><br/></div></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">        */</span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">       </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">public</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">static</span> <span style="min-height: 11pt; background-color: rgb(212, 212, 212); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">void</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">register(BeanDefinitionRegistry</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">registry</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">, String...</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">packageNames</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">) {</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">              </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">if</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">registry</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">.containsBeanDefinition(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(0, 0, 192); font-family: Consolas; font-style: italic; font-weight: bold;">BEAN</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">)) {</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">                     BeanDefinition</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">beanDefinition</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">=</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">registry</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">.</span><span style="min-height: 11pt; background-color: rgb(212, 212, 212); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">getBeanDefinition</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(0, 0, 192); font-family: Consolas; font-style: italic; font-weight: bold;">BEAN</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">);</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">                     ConstructorArgumentValues</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">constructorArguments</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">=</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">beanDefinition</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">                                  .getConstructorArgumentValues();</span></span></span></div><div style="min-height: 11pt;"><font face="Consolas" style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(51, 51, 51);">                     </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(106, 62, 62);">constructorArguments</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(51, 51, 51);">.addIndexedArgumentValue(0,</span></font></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">                                  </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas; font-style: italic;">addBasePackages</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">constructorArguments</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">,</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">packageNames</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">));</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">              }</span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">              </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">else</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">{</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">                     GenericBeanDefinition</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">beanDefinition</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">=</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">new</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">GenericBeanDefinition();</span></div><div style="min-height: 11pt;"><font face="Consolas" style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(51, 51, 51);">                     </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(106, 62, 62);">beanDefinition</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(51, 51, 51);">.setBeanClass(BasePackages.</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(127, 0, 85); font-weight: bold;">class</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(51, 51, 51);">);</span></font></div><div style="min-height: 11pt;"><font face="Consolas" style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(51, 51, 51);">                     </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(106, 62, 62);">beanDefinition</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(51, 51, 51);">.getConstructorArgumentValues().addIndexedArgumentValue(0,</span></font></div><div style="min-height: 11pt;"><font face="Consolas" style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(51, 51, 51);">                                  </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(106, 62, 62);">packageNames</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(51, 51, 51);">);</span></font></div><div style="min-height: 11pt;"><font face="Consolas" style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(51, 51, 51);">                     </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(106, 62, 62);">beanDefinition</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(51, 51, 51);">.setRole(BeanDefinition.</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(0, 0, 192); font-style: italic; font-weight: bold;">ROLE_INFRASTRUCTURE</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(51, 51, 51);">);</span></font></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">                     </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">registry</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">.</span><span style="min-height: 11pt; background-color: rgb(212, 212, 212); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">registerBeanDefinition</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(0, 0, 192); font-family: Consolas; font-style: italic; font-weight: bold;">BEAN</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">,</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">beanDefinition</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">);</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">              }</span></span></span></div><div><font face="Consolas" style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(51, 51, 51);">       </span><span style="min-height: 11pt; background-color: rgb(212, 212, 212); font-size: 11pt; font-family: Consolas; color: rgb(51, 51, 51);">}</span></font></div></div><div><span style="font-size: 11pt;">从注释中可以看出，</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 11pt; color: rgb(79, 79, 79);">它的功能简单说就是将应用的 package给注册到Spring容器中，供后续使用，还说了不推荐手动来注册</span></div><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><font style="font-size: 11pt;"><span style="font-size: 11pt; color: rgb(79, 79, 79);">然后debug的时候看一下，</span><span style="min-height: 11pt; font-size: 11pt; color: rgb(106, 62, 62);">packageNames只有我们的rootpackage（com.example.demo），这里也就是<span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 11pt; color: rgb(79, 79, 79);">将应用的root package给注册到Spring容器中，供后续使用。</span></span></font></span></div><div style="orphans: 2; widows: 2;"><font style="font-size: 11pt;"><span style="font-size: 11pt; color: rgb(79, 79, 79); line-height: 23px;">顺便还可以看看调用栈，</span><span style="box-sizing: border-box; outline: 0px; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 11pt; color: rgb(79, 79, 79); line-height: 26px;">调用register方法的时间在容器刷新期间：</span></font></div><div style="orphans: 2; widows: 2;"><span style="box-sizing: border-box; outline: 0px; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 11pt; color: rgb(79, 79, 79); line-height: 26px;">refresh -&gt; invokeBeanFactoryPostProcessors -&gt; invokeBeanDefinitionRegistryPostProcessors -&gt; postProcessBeanDefinitionRegistry -&gt; processConfigBeanDefinitions(开始处理配置Bean的定义) -&gt; loadBeanDefinitions -&gt; loadBeanDefinitionsForConfigurationClass(读取配置Class中的Bean定义) -&gt; loadBeanDefinitionsFromRegistrars(这里开始准备进入上面的register方法) -&gt; registerBeanDefinitions(即上述方法)</span></span></div><div><span style="font-size: 11pt;"><img src="SpringBoot_files/Image [4].png" type="image/png" data-filename=""/></span></div><div><br/></div><div><br/></div><div><br/></div><h3 style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 8px 0px 16px; word-break: break-all; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><font style="font-size: 11pt;"><span style="box-sizing: border-box; letter-spacing: normal; orphans: 2; outline: 0px; text-indent: 0px; text-transform: none; -webkit-text-stroke-width: 0px; white-space: normal; widows: 2; word-break: break-all; word-spacing: 0px; font-size: 11pt; color: rgb(79, 79, 79); font-weight: normal; line-height: 30px;">@Import(</span><span style="min-height: 11pt; font-size: 11pt; color: rgb(79, 79, 79); font-weight: normal; line-height: 30px;">AutoConfigurationImportSelector</span><span style="box-sizing: border-box; letter-spacing: normal; orphans: 2; outline: 0px; text-indent: 0px; text-transform: none; -webkit-text-stroke-width: 0px; white-space: normal; widows: 2; word-break: break-all; word-spacing: 0px; font-size: 11pt; color: rgb(79, 79, 79); font-weight: normal; line-height: 30px;">.class)</span></font></h3><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><font style="font-size: 11pt;"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);"> </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">       </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">/**</span></font></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">        * 最主要的方法</span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">        * annotationMetadata</span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">        * [@org.springframework.boot.autoconfigure.SpringBootApplication</span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">        * (scanBasePackageClasses=[], excludeName=[], exclude=[], scanBasePackages=[])]</span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">        *</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 159, 191); font-weight: bold;">@param</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">annotationMetadata</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">        *</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 159, 191); font-weight: bold;">@return</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">        */</span></span></span></div><div style="min-height: 11pt;"><font style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">       </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100);">@Override</span></font></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">       </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-weight: bold;">public</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">String[]</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); text-decoration: underline;">selectImports(AnnotationMetadata</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); text-decoration: underline;">annotationMetadata</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); text-decoration: underline;">)</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">{</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">              </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-weight: bold;">if</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">(!</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); text-decoration: underline;">isEnabled</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">annotationMetadata</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">)) {</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">                     </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-weight: bold;">return</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); text-decoration: underline;">NO_IMPORTS</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">;</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">              }</span></span></span></div><div style="min-height: 11pt;"><font style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">              </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">/**</span></font></div><div style="min-height: 11pt;"><font style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">               * 加载META</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 127, 159);">-</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">INF/spring</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 127, 159);">-</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); text-decoration: underline;">autoconfigure</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 127, 159);">-</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">metadata.properties，获取所有支持自动配置的信息</span></font></div><div style="min-height: 11pt;"><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">               */</span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">              AutoConfigurationMetadata</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">autoConfigurationMetadata</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">=</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); text-decoration: underline;">AutoConfigurationMetadataLoader</span></div><div style="min-height: 11pt;"><font style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">                           .loadMetadata(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-weight: bold;">this</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">.</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); text-decoration: underline;">beanClassLoader</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">);</span></font></div><div style="min-height: 11pt;"><font style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">              </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">/**</span></font></div><div style="min-height: 11pt;"><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">               * 得到注解中的所有属性信息{excludeName=[], exclude=[]}</span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">               */</span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">              AnnotationAttributes</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">attributes</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">=</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); text-decoration: underline;">getAttributes</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">annotationMetadata</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">);</span></div><div style="min-height: 11pt;"><font style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">              </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">/**</span></font></div><div style="min-height: 11pt;"><font style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">               * 获取所有支持EnableAutoConfiguration的组件信息，这部分信息配置在spring</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 127, 159);">-</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">boot</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 127, 159);">-</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); text-decoration: underline;">autoconfig</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">包下的spring.factories下</span></font></div><div style="min-height: 11pt;"><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">               *</span></span></span></div><div style="min-height: 11pt;"><font style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">               *  使用了内部工具使用SpringFactoriesLoader，查找</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); text-decoration: underline;">classpath</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">上所有jar包中的</span></font></div><div style="min-height: 11pt;"><font style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">               *  META</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 127, 159);">-</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">INF\spring.factories，找出其中key为</span></font></div><div style="min-height: 11pt;"><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">               *  org.springframework.boot.autoconfigure.EnableAutoConfiguration</span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">               *  的属性定义的工厂类名称。</span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">               */</span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">              List&lt;String&gt;</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">configurations</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">=</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); text-decoration: underline;">getCandidateConfigurations</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">annotationMetadata</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">,</span></div><div style="min-height: 11pt;"><font style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">                           </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">attributes</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">);</span></font></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">              </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">configurations</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">=</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); text-decoration: underline;">removeDuplicates</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">configurations</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">);</span></div><div style="min-height: 11pt;"><font style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">              </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">/**</span></font></div><div style="min-height: 11pt;"><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">               * 去除不需要的</span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">               *</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 159, 191); font-weight: bold;">@EnableAutoConfiguration</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">(exclude = { DataSourceAutoConfiguration.class, RedisAutoConfiguration.class,</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">                     DataSourceTransactionManagerAutoConfiguration.class, })</span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">               */</span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">              Set&lt;String&gt;</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">exclusions</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">=</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); text-decoration: underline;">getExclusions</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">annotationMetadata</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">,</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">attributes</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">);</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">              </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); text-decoration: underline;">checkExcludedClasses</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">configurations</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">,</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">exclusions</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">);</span></div><div style="min-height: 11pt;"><font style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">              </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">configurations</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">.removeAll(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">exclusions</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">);</span></font></div><div style="min-height: 11pt;"><font style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">              </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">/**</span></font></div><div style="min-height: 11pt;"><font style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">               * 然后使用AutoConfigurationImportFilter进行过滤，过滤的方式基本上是判断现有系统是否引入了某个组件，（系统是否使用哪个组件是在</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); text-decoration: underline;">pom</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">定义的时候就确定了的）</span></font></div><div style="min-height: 11pt;"><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">               * ，如果有的话则进行相关配置。比如ServletWebServerFactoryAutoConfiguration</span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">               * ，会在ServletRequest.class等条件存在的情况下进行配置，</span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">               * 而EmbeddedTomcat会在Servlet.class, Tomcat.class存在的情况下创建TomcatServletWebServerFactory</span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">               *</span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">               * org.springframework.boot.autoconfigure.condition.OnClassCondition</span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">               * 总而言之，此过滤器会检查候选配置类的注解@ConditionalOnClass，如果要求的类在</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); text-decoration: underline;">classpath</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">中不存在，则这个候选配置类会被排除掉</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">               */</span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">              </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">configurations</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">=</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); text-decoration: underline;">filter</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">configurations</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">,</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">autoConfigurationMetadata</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">);</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">              </span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">/**</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">                * 现在已经找到所有需要被应用的候选配置类</span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">                *</span> <span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(246, 248, 250); color: rgb(136, 0, 0); font-family: Consolas, Inconsolata, Courier, monospace;">广播事件</span><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">AutoConfigurationImportEvent</span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">                */</span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">              </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); text-decoration: underline;">fireAutoConfigurationImportEvents</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">configurations</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">,</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">exclusions</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">);</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">              </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-weight: bold;">return</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">StringUtils.</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-style: italic;">toStringArray</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">configurations</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">);</span></div><div><font style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">       }</span></font></div></div><div><br/></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">private</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">void</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">fireAutoConfigurationImportEvents(List&lt;String&gt;</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(106, 62, 62); font-family: Consolas;">configurations</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">,</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                     Set&lt;String&gt;</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(106, 62, 62); font-family: Consolas;">exclusions</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">) {</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">              List&lt;</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(212, 212, 212); color: rgb(51, 51, 51); font-family: Consolas;">AutoConfigurationImportListener</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">&gt;</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(106, 62, 62); font-family: Consolas;">listeners</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">= getAutoConfigurationImportListeners();</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">              </span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">if</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">(!</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(106, 62, 62); font-family: Consolas;">listeners</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">.isEmpty()) {</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                     AutoConfigurationImportEvent</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(106, 62, 62); font-family: Consolas;">event</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">=</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">new</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">AutoConfigurationImportEvent(</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">this</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">,</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                                  </span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(106, 62, 62); font-family: Consolas;">configurations</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">,</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(106, 62, 62); font-family: Consolas;">exclusions</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">);</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                     </span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">for</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">(</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(212, 212, 212); color: rgb(51, 51, 51); font-family: Consolas;">AutoConfigurationImportListener</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(106, 62, 62); font-family: Consolas;">listener</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">:</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(106, 62, 62); font-family: Consolas;">listeners</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">) {</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                           invokeAwareMethods(</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(106, 62, 62); font-family: Consolas;">listener</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">);</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                           </span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(106, 62, 62); font-family: Consolas;">listener</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">.onAutoConfigurationImportEvent(</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(106, 62, 62); font-family: Consolas;">event</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">);</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                     }</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">              }</span></div><div><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;"> }</span></div></div><div><br/></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(1, 1, 1); font-family: Consolas;"># Auto Configuration Import Listeners</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(1, 1, 1); font-family: Consolas;">org.springframework.boot.autoconfigure.AutoConfigurationImportListener=\</span></div><div><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(1, 1, 1); font-family: Consolas;">org.springframework.boot.autoconfigure.condition.ConditionEvaluationReportAutoConfigurationImportListener</span></div></div><div><br/></div><div><br/></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-weight: bold;">protected</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); text-decoration: underline;">List</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">&lt;String&gt; getCandidateConfigurations(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); text-decoration: underline;">AnnotationMetadata</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">metadata</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">,</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); text-decoration: underline;">AnnotationAttributes</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">attributes</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">) {</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">              </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); text-decoration: underline;">List</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">&lt;String&gt;</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">configurations</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">=</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); text-decoration: underline;">SpringFactoriesLoader</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">.loadFactoryNames(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); text-decoration: underline;">getSpringFactoriesLoaderFactoryClass</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">(),</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); text-decoration: underline;">getBeanClassLoader</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">());</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">              </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); text-decoration: underline;">Assert</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">.notEmpty(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">configurations</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">,</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(42, 0, 255);">&quot;No auto configuration classes found in META-INF/spring.factories. If you &quot;</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">                           +</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(42, 0, 255);">&quot;are using a custom packaging, make sure that file is correct.&quot;</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">);</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">              </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-weight: bold;">return</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">configurations</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">;</span></div><div><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">}</span></span></span></div></div><div><br/></div><div><br/></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="box-sizing: border-box; outline: 0px; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">// 传入的factoryClass：org.springframework.boot.autoconfigure.EnableAutoConfiguration</span></span></span></div><div><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">       </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-weight: bold;">public</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-weight: bold;">static</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">List&lt;String&gt; loadFactoryNames(Class&lt;?&gt;</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">factoryClass</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">, ClassLoader</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">classLoader</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">) {</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">              String</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">factoryClassName</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">=</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">factoryClass</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">.getName();</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">              </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-weight: bold;">try</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">{</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">                     </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0); text-decoration: underline;">Enumeration</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">&lt;</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0); text-decoration: underline;">URL</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">&gt;</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">urls</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">= (</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">classLoader</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">!=</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-weight: bold;">null</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">?</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">classLoader</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">.getResources(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0); text-decoration: underline;">FACTORIES_RESOURCE_LOCATION</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">)</span></div><div style="min-height: 11pt;"><font style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">                                  : ClassLoader.</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0); font-style: italic;">getSystemResources</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0); text-decoration: underline;">FACTORIES_RESOURCE_LOCATION</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">));</span></font></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">                     List&lt;String&gt;</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">result</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">=</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-weight: bold;">new</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0); text-decoration: underline;">ArrayList</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">&lt;String&gt;();</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">                     </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-weight: bold;">while</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">urls</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">.hasMoreElements()) {</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">                           </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0); text-decoration: underline;">URL</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">url</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">=</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">urls</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">.nextElement();</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">                           </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0); text-decoration: underline;">Properties</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">properties</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">=</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0); text-decoration: underline;">PropertiesLoaderUtils</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">.loadProperties(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-weight: bold;">new</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0); text-decoration: underline;">UrlResource</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">url</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">));</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">                           String</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">factoryClassNames</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">=</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">properties</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">.getProperty(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">factoryClassName</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">);</span></div><div style="min-height: 11pt;"><font style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">                            </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">result</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">.addAll(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0); text-decoration: underline;">Arrays</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">.asList(StringUtils.</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0); font-style: italic;">commaDelimitedListToStringArray</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">factoryClassNames</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">)));</span></font></div><div style="min-height: 11pt;"><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">                     }</span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">                     </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-weight: bold;">return</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">result</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">;</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">              }</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-weight: bold;">catch</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0); text-decoration: underline;">IOException</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">ex</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">) {</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">                     </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-weight: bold;">throw</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-weight: bold;">new</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">IllegalArgumentException(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(42, 0, 255);">&quot;Unable to load [&quot;</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">+</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">factoryClass</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">.getName()</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">                                  +</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(42, 0, 255);">&quot;] factories from location [&quot;</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">+</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0); text-decoration: underline;">FACTORIES_RESOURCE_LOCATION</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">+</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(42, 0, 255);">&quot;]&quot;</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">,</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">ex</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">);</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">              }</span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">       } </span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 127, 95);">// 相关常量 public static final String FACTORIES_RESOURCE_LOCATION =</span></span></span></div><div><font style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">              </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 127, 95);">// &quot;META-INF/spring.factories&quot;;</span></font></div></div><div><br/></div><div><br/></div><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 11pt; color: rgb(79, 79, 79);">这段代码的意图很明确，在第一篇文章讨论Spring Boot启动过程的时候就已经接触到了。它会从类路径中拿到所有名为META-INF/spring.factories的配置文件，然后按照factoryClass的名称取到对应的值。那么我们就来找一个META-INF/spring.factories配置文件看看。</span></span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(1, 1, 1);"># Auto Configure</span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(1, 1, 1);">org.springframework.boot.autoconfigure.EnableAutoConfiguration=\</span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(1, 1, 1);">org.springframework.boot.autoconfigure.admin.SpringApplicationAdminJmxAutoConfiguration,\</span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(255, 70, 53);">org.springframework.boot.autoconfigure.aop.AopAutoConfiguration,\</span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(1, 1, 1);">org.springframework.boot.autoconfigure.amqp.RabbitAutoConfiguration,\</span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(1, 1, 1);">org.springframework.boot.autoconfigure.batch.BatchAutoConfiguration,\</span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(1, 1, 1);">org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration,\</span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(1, 1, 1);">org.springframework.boot.autoconfigure.cassandra.CassandraAutoConfiguration,\</span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(1, 1, 1);">org.springframework.boot.autoconfigure.cloud.CloudAutoConfiguration,\</span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(1, 1, 1);">org.springframework.boot.autoconfigure.context.ConfigurationPropertiesAutoConfiguration,\</span></span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(1, 1, 1);">org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration,\</span></span></span></div><div><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(1, 1, 1);">org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration,\</span></span></span></div><div><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(1, 1, 1);">。。。。。。</span></span></span></div></div><div><br/></div><div><br/></div><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 11pt; color: rgb(79, 79, 79);">列举了非常多的自动配置候选项，挑一个AOP相关的AopAutoConfiguration看看究竟：</span></span></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><font style="font-size: 11pt;"><span style="box-sizing: border-box; outline: 0px; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">/ 如果设置了spring.aop.auto=false，那么AOP不会被配置</span><span style="background-color: rgb(251, 250, 248); font-size: 11pt;"> </span></font></div><div><font style="font-size: 11pt;"><span style="box-sizing: border-box; outline: 0px; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">// 需要检测到@EnableAspectJAutoProxy注解存在才会生效</span><span style="background-color: rgb(251, 250, 248); font-size: 11pt;"> </span></font></div><div><span style="box-sizing: border-box; outline: 0px; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(136, 0, 0);">// 默认使用JdkDynamicAutoProxyConfiguration，如果设置了spring.aop.proxy-target-class=true，那么使用CglibAutoProxyConfiguration</span></span></span></div><div><font style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100);">@</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; text-decoration: underline;">Configuration</span></font></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100);">@</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; text-decoration: underline;">ConditionalOnClass</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">({</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; text-decoration: underline;">EnableAspectJAutoProxy</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">.</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-weight: bold;">class</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">,</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; text-decoration: underline;">Aspect</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">.</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-weight: bold;">class</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">,</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; text-decoration: underline;">Advice</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">.</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-weight: bold;">class</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">})</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100);">@</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; text-decoration: underline;">ConditionalOnProperty</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">(prefix =</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(42, 0, 255);">&quot;spring.aop&quot;</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">, name =</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(42, 0, 255);">&quot;auto&quot;</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">, havingValue =</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(42, 0, 255);">&quot;true&quot;</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">, matchIfMissing =</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-weight: bold;">true</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">)</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-weight: bold;">public</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-weight: bold;">class</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; text-decoration: underline;">AopAutoConfiguration</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">{</span></div><div style="min-height: 11pt;"><font style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">       </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100);">@</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; text-decoration: underline;">Configuration</span></font></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">       </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100);">@</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; text-decoration: underline;">EnableAspectJAutoProxy</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">(proxyTargetClass =</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-weight: bold;">false</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">)</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">       </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100);">@</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; text-decoration: underline;">ConditionalOnProperty</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">(prefix =</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(42, 0, 255);">&quot;spring.aop&quot;</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">, name =</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(42, 0, 255);">&quot;proxy-target-class&quot;</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">, havingValue =</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(42, 0, 255);">&quot;false&quot;</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">, matchIfMissing =</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-weight: bold;">true</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">)</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">       </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-weight: bold;">public</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-weight: bold;">static</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-weight: bold;">class</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">JdkDynamicAutoProxyConfiguration {</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt;">       }</span></span></span></div><div style="min-height: 11pt;"><font style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">       </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100);">@</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; text-decoration: underline;">Configuration</span></font></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">       </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100);">@</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; text-decoration: underline;">EnableAspectJAutoProxy</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">(proxyTargetClass =</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-weight: bold;">true</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">)</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">       </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100);">@</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; text-decoration: underline;">ConditionalOnProperty</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">(prefix =</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(42, 0, 255);">&quot;spring.aop&quot;</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">, name =</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(42, 0, 255);">&quot;proxy-target-class&quot;</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">, havingValue =</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(42, 0, 255);">&quot;true&quot;</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">, matchIfMissing =</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-weight: bold;">false</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">)</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">       </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-weight: bold;">public</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-weight: bold;">static</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-weight: bold;">class</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">CglibAutoProxyConfiguration {</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt;">       }</span></span></span></div><div><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt;">}</span></span></span></div></div><div><br/></div><div><font style="font-size: 11pt;"><span style="box-sizing: border-box; outline: 0px; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 11pt; color: rgb(79, 79, 79); line-height: 26px;">如果存在并且值为true的话使用基于CGLIB字节码操作的动态代理方案，否则使用JDK自带的动态代理机制。</span><span style="orphans: 2; widows: 2; background-color: rgb(255, 255, 255); text-align: justify; font-size: 11pt; color: rgb(79, 79, 79); line-height: 26px;">在这个配置类中，使用到了两个全新的注解：</span></font></div><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 8px 0px 0px 32px; list-style-type: disc; word-break: break-all;"><span style="box-sizing: border-box; outline: 0px; word-break: break-all;"><span style="font-size: 11pt;">@ConditionalOnClass</span></span></div><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 8px 0px 0px 32px; list-style-type: disc; word-break: break-all;"><span style="box-sizing: border-box; outline: 0px; word-break: break-all;"><span style="font-size: 11pt;">@ConditionalOnProperty</span></span></div><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px 0px 16px; text-align: justify; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; outline: 0px; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="background-color: rgb(255, 255, 255);"><span style="background-color: rgb(255, 255, 255); font-size: 11pt; color: rgb(79, 79, 79); line-height: 26px;">从这两个注解的名称，就大概能够猜出它们的功能了：</span></span></span></div><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px 0px 16px; text-align: justify; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; outline: 0px; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="background-color: rgb(255, 255, 255);"><span style="font-size: 11pt; background-color: rgb(255, 255, 255); color: rgb(79, 79, 79); font-weight: bold; line-height: 26px;">@ConditionalOnClass</span></span></span></div><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px 0px 16px; text-align: justify; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; outline: 0px; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="background-color: rgb(255, 255, 255);"><span style="background-color: rgb(255, 255, 255); font-size: 11pt; color: rgb(79, 79, 79); line-height: 26px;">当类路径上存在指定的类时，满足条件。</span></span></span></div><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px 0px 16px; text-align: justify; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; outline: 0px; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="background-color: rgb(255, 255, 255);"><span style="font-size: 11pt; background-color: rgb(255, 255, 255); color: rgb(79, 79, 79); font-weight: bold; line-height: 26px;">@ConditionalOnProperty</span></span></span></div><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px 0px 16px; text-align: justify; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; outline: 0px; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="background-color: rgb(255, 255, 255);"><span style="background-color: rgb(255, 255, 255); font-size: 11pt; color: rgb(79, 79, 79); line-height: 26px;">当配置中存在指定的属性时，满足条件。</span></span></span></div><div><span style="box-sizing: border-box; outline: 0px; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 11pt; color: rgb(79, 79, 79); line-height: 26px;">其实除了这两个注解之外，还有几个类似的，它们都在org.springframework.boot.autoconfigure.condition这个包下，在具体介绍实现之前，下面先来看看Spring Boot对于@Conditional的扩展。</span></span></div><div><span style="font-size: 11pt;"><img src="SpringBoot_files/Image [5].png" type="image/png" data-filename="Image.png"/></span></div><h2 style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 8px 0px 16px; word-break: break-all; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"></h2><h2><span style="outline: 0px; word-break: break-all;"><span style="font-size: 11pt; color: rgb(79, 79, 79); font-weight: normal; line-height: 32px;">Spring Boot对于@Conditional的扩展</span></span><span style="font-size: 11pt; color: rgb(79, 79, 79); font-weight: normal; line-height: 26px;">Spring Boot提供了一个实现了Condition接口的抽象类SpringBootCondition。</span><span style="font-size: 11pt; color: rgb(79, 79, 79); font-weight: normal; line-height: 26px;">这个类的主要作用是打印一些用于诊断的日志，告诉用户哪些类型被自动配置了。</span><span style="font-size: 11pt; color: rgb(79, 79, 79); font-weight: normal; line-height: 26px;">它实现Condition接口的方法：</span></h2><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="box-sizing: border-box; outline: 0px; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><font style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(255, 255, 255); font-size: 11pt; color: rgb(51, 51, 51); font-weight: bold; line-height: 26px;">  </span><span style="min-height: 11pt; background-color: rgb(255, 255, 255); font-size: 11pt; color: rgb(51, 51, 51); line-height: 26px;">     </span><span style="min-height: 11pt; font-size: 11pt; background-color: rgb(255, 255, 255); color: rgb(100, 100, 100); line-height: 26px;">@Override</span></font></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">       </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85);">public</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85);">final</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85);">boolean</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">matches(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); text-decoration: underline;">ConditionContext</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">context</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">,</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); text-decoration: underline;">AnnotatedTypeMetadata</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">metadata</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">) {</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">              String</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">classOrMethodName</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">= getClassOrMethodName(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">metadata</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">);</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">              </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85);">try</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">{</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">                     </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); text-decoration: underline;">ConditionOutcome</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">outcome</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">= getMatchOutcome(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">context</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">,</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">metadata</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">);</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">                     logOutcome(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">classOrMethodName</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">,</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">outcome</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">);</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">                     recordEvaluation(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">context</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">,</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">classOrMethodName</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">,</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">outcome</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">);</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">                     </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85);">return</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">outcome</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">.isMatch();</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">              }</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85);">catch</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">(NoClassDefFoundError</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">ex</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">) {</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">                     </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85);">throw</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85);">new</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">IllegalStateException(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(42, 0, 255);">&quot;Could not evaluate condition on &quot;</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">+</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">classOrMethodName</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">+</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(42, 0, 255);">&quot; due to &quot;</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">                                  +</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">ex</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">.getMessage() +</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(42, 0, 255);">&quot; not &quot;</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">+</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(42, 0, 255);">&quot;found. Make sure your own configuration does not rely on &quot;</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">                                  +</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(42, 0, 255);">&quot;that class. This can also happen if you are &quot;</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">                                  +</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(42, 0, 255);">&quot;@ComponentScanning a springframework package (e.g. if you &quot;</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">                                  +</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(42, 0, 255);">&quot;put a @ComponentScan in the default package by mistake)&quot;</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">,</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">ex</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">);</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">              }</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85);">catch</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">(RuntimeException</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">ex</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">) {</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">                     </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85);">throw</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85);">new</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">IllegalStateException(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(42, 0, 255);">&quot;Error processing condition on &quot;</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">+ getName(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">metadata</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">),</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">ex</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">);</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">              }</span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">       }</span></span></div><div style="min-height: 11pt;"><font style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">       </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">/**</span></font></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">        * * Determine the outcome of the match along with suitable log output. *</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 159, 191);">@param</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">        * context the condition context *</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 159, 191);">@param</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">metadata the annotation</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); text-decoration: underline;">metadata</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">        * *</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 159, 191);">@return</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">the condition outcome</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191);">        */</span></span></div><div><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">       </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85);">public</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85);">abstract</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); text-decoration: underline;">ConditionOutcome</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); text-decoration: underline;">getMatchOutcome(ConditionContext</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); text-decoration: underline;">context</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); text-decoration: underline;">, AnnotatedTypeMetadata</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); text-decoration: underline;">metadata</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); text-decoration: underline;">)</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51);">;</span></div></div><div><br/></div><div><font style="font-size: 11pt;"><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">在</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">Spring</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">里可以很方便地编写你自己的条件，你所要做的就是实现</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">Condition</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">接口，覆盖它</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1); line-height: 1.45;">的</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1); line-height: 1.45;">matches()</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1); line-height: 1.45;">方法</span></font></div><div><br/></div><div><font style="font-size: 11pt;"><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">Spring Boot</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1);">定义了很多更有趣的条件，并把它们运用到了配</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1); line-height: 1.45;">置类上，这些配置类构成了</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1); line-height: 1.45;">Spring Boot</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1); line-height: 1.45;">的自动配置。</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1); line-height: 1.45;">Spring Boot</span><span style="min-height: 13pt; font-size: 11pt; color: rgb(1, 1, 1); line-height: 1.45;">运用条件化配置的方法是，定义</span></font></div><div><span style="min-height: 12pt;"><span style="font-size: 11pt; color: rgb(1, 1, 1);">多个特殊的条件化注解，并将它们用到配置类上。</span></span></div><div><br/></div><div><br/></div><div><br/></div><div><a href="https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/condition/OnClassCondition.java" style="font-size: 11pt; color: rgb(1, 1, 1); text-decoration: underline;">https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/condition/OnClassCondition.java</a></div><div><br/></div><div>看一下这个calss的调用栈</div><div><br/></div><div><img src="SpringBoot_files/Image [6].png" type="image/png" data-filename=""/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><span style="font-size: 11pt;">在说一下springboot的启动过程</span></div><div><br/></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><font face="微软雅黑" style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: 微软雅黑; color: rgb(100, 100, 100);">@</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: 微软雅黑; color: rgb(51, 51, 51); text-decoration: underline;">SpringBootApplication</span></font></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: 微软雅黑; font-weight: bold;">public</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: 微软雅黑; font-weight: bold;">class</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: 微软雅黑; text-decoration: underline;">DemoApplication</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: 微软雅黑;">{</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: 微软雅黑;">       </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: 微软雅黑; font-weight: bold;">public</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: 微软雅黑; font-weight: bold;">static</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: 微软雅黑; font-weight: bold;">void</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: 微软雅黑;">main(String[]</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: 微软雅黑;">args</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: 微软雅黑;">) {</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: 微软雅黑;">              </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(235, 0, 115); font-family: 微软雅黑; text-decoration: underline;">S</span><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(255, 0, 0); font-family: 微软雅黑; text-decoration: underline;">pringApplication</span></span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(255, 0, 0); font-family: 微软雅黑;">.run(DemoApplication.</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(255, 0, 0); font-family: 微软雅黑; font-weight: bold;">class</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(255, 0, 0); font-family: 微软雅黑;">,</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(255, 0, 0); font-family: 微软雅黑;">args</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(255, 0, 0); font-family: 微软雅黑;">);</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: 微软雅黑;">       }</span></span></div><div><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: 微软雅黑;">}</span></span></div><div><br/></div><div><br/></div><div><br/></div><div><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: 微软雅黑;">       /**</span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: 微软雅黑;">        * Static helper that can be used to run a</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 63, 191); font-family: 微软雅黑;">{@link SpringApplication}</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: 微软雅黑;">from the</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: 微软雅黑;">        * specified sources using default settings and user supplied arguments.</span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: 微软雅黑;">        *</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 159, 191); font-family: 微软雅黑; font-weight: bold;">@param</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: 微软雅黑;">primarySources the primary sources to load</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: 微软雅黑;">        *</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 159, 191); font-family: 微软雅黑; font-weight: bold;">@param</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: 微软雅黑;">args the application arguments (usually passed from a Java main method)</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: 微软雅黑;">        *</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 159, 191); font-family: 微软雅黑; font-weight: bold;">@return</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: 微软雅黑;">the running</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 63, 191); font-family: 微软雅黑;">{@link ApplicationContext}</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: 微软雅黑;">        */</span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: 微软雅黑;">       </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: 微软雅黑; font-weight: bold;">public</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: 微软雅黑; font-weight: bold;">static</span> <span style="min-height: 11pt; background-color: rgb(212, 212, 212); font-size: 11pt; color: rgb(51, 51, 51); font-family: 微软雅黑;">ConfigurableApplicationContext</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: 微软雅黑;">run(Class&lt;?&gt;[]</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: 微软雅黑;">primarySources</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: 微软雅黑;">,</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: 微软雅黑;">                     String[]</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: 微软雅黑;">args</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: 微软雅黑;">) {</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: 微软雅黑;">              </span><span style="min-height: 11pt; background-color: rgb(212, 212, 212); font-size: 11pt; color: rgb(127, 0, 85); font-family: 微软雅黑; font-weight: bold;">return</span> <span style="min-height: 11pt; background-color: rgb(212, 212, 212); font-size: 11pt; color: rgb(255, 0, 0); font-family: 微软雅黑; font-weight: bold;">new</span> <span style="min-height: 11pt; background-color: rgb(212, 212, 212); font-size: 11pt; color: rgb(255, 0, 0); font-family: 微软雅黑;">SpringApplication(</span><span style="min-height: 11pt; background-color: rgb(212, 212, 212); font-size: 11pt; color: rgb(255, 0, 0); font-family: 微软雅黑;">primarySources</span><span style="min-height: 11pt; background-color: rgb(212, 212, 212); font-size: 11pt; color: rgb(255, 0, 0); font-family: 微软雅黑;">).run(</span><span style="min-height: 11pt; background-color: rgb(212, 212, 212); font-size: 11pt; color: rgb(255, 0, 0); font-family: 微软雅黑;">args</span><span style="min-height: 11pt; background-color: rgb(212, 212, 212); font-size: 11pt; color: rgb(255, 0, 0); font-family: 微软雅黑;">);</span></div><div><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: 微软雅黑;">       }</span></span></div><div><br/></div></div><div><br/></div><div><br/></div><div><br/></div><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 11pt; color: rgb(79, 79, 79);">它实际上会构造一个SpringApplication的实例，然后运行它的run方法，而run方法返回一个<span style="font-size: 11pt; min-height: 11pt; background-color: rgb(212, 212, 212); color: rgb(51, 51, 51); font-family: 微软雅黑;">ConfigurableApplicationContext，</span></span><span style="font-size: 11pt;">看一下构造</span><span style="min-height: 11pt; background-color: rgb(212, 212, 212); font-size: 11pt; color: rgb(51, 51, 51);">SpringApplication</span><span style="font-size: 11pt;">实列的地方</span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(63, 95, 191); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: 微软雅黑;">  </span> <span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">     /**</span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">        * Create a new</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 63, 191); font-family: Consolas;">{@link SpringApplication}</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">instance. The application context will load</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">        * beans from the specified primary sources (see</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 63, 191); font-family: Consolas;">{@link SpringApplication class-level}</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">        * documentation for details. The instance can be customized before calling</span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">        *</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 63, 191); font-family: Consolas;">{@link #run(String...)}</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">.</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">        *</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 159, 191); font-family: Consolas; font-weight: bold;">@param</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">resourceLoader the resource loader to use</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">        *</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 159, 191); font-family: Consolas; font-weight: bold;">@param</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">primarySources the primary bean sources</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">        *</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 159, 191); font-family: Consolas; font-weight: bold;">@see</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">#run(Class, String[])</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">        *</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 159, 191); font-family: Consolas; font-weight: bold;">@see</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">#setSources(Set)</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">        */</span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">  </span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: Consolas;">@</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">SuppressWarnings({</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(42, 0, 255); font-family: Consolas;">&quot;unchecked&quot;</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">,</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(42, 0, 255); font-family: Consolas;">&quot;rawtypes&quot;</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">})</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">   </span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">public</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas; text-decoration: underline;">SpringApplication(ResourceLoader resourceLoader, Class&lt;?&gt;... primarySources)</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">{</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">          </span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">this</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">.</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas; text-decoration: underline;">resourceLoader</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">= resourceLoader;//<span style="background-color: rgb(251, 250, 248); font-size: 11pt; min-height: 11pt; color: rgb(51, 51, 51); font-family: Consolas; text-decoration: underline;">resourceLoader接口,提供资源导入，见链接</span><a href="https://www.cnblogs.com/doit8791/p/5774743.html" style="font-size: 11pt; background-color: rgb(251, 250, 248); font-family: Consolas; color: rgb(51, 51, 51); text-decoration: underline;">https://www.cnblogs.com/doit8791/p/5774743.html</a><span style="background-color: rgb(251, 250, 248); font-size: 11pt; min-height: 11pt; color: rgb(51, 51, 51); font-family: Consolas; text-decoration: underline;"> </span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">          </span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas; text-decoration: underline;">Assert</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">.notNull(primarySources,</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(42, 0, 255); font-family: Consolas;">&quot;PrimarySources must not be null&quot;</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">);</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">          </span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">this</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">.</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas; text-decoration: underline;">primarySources</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">=</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">new</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas; text-decoration: underline;">LinkedHashSet</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">&lt;&gt;(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas; text-decoration: underline;">Arrays</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">.asList(primarySources)); //此处为<span style="font-size: 11pt; min-height: 11pt; background-color: rgb(251, 250, 248); color: rgb(255, 0, 0); font-family: 微软雅黑;">DemoApplication.</span><span style="font-size: 11pt; min-height: 11pt; background-color: rgb(251, 250, 248); color: rgb(255, 0, 0); font-family: 微软雅黑; font-weight: bold;">class</span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">          </span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 127, 95); font-family: Consolas;">//推断应用类型，Standard还是Web</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">          </span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">this</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">.</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas; text-decoration: underline;">webApplicationType</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">=</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas; text-decoration: underline;">deduceWebApplicationType</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">();</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">          </span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 127, 95); font-family: Consolas;">//</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">          </span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">/**</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">            * 设置初始化器(Initializer)</span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">            * getSpringFactoriesInstances(ApplicationContextInitializer.class)</span></span></div><div style="min-height: 11pt;"><font face="Consolas" style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(63, 95, 191);">            * 从类路径的META</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(127, 127, 159);">-</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(63, 95, 191);">INF/spring.factories处读取相应配置文件，然后进行遍历，读取配置文件中Key为：</span></font></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">            * org.springframework.context.ApplicationContextInitializer的value</span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">            * value是一系列类名，实例化后this.initializers.addAll(initializers);全部set到SpringApplication中</span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">            * 在Spring上下文被刷新之前进行初始化的操作。典型地比如在Web应用中，注册Property Sources或者是激活Profiles。</span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">            * Property Sources比较好理解，就是配置文件。Profiles是Spring为了在不同环境下(如DEV，TEST，PRODUCTION等)，加载不同的配置项而抽象出来的一个实体</span></span></div><div style="min-height: 11pt;"><font face="Consolas" style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(63, 95, 191);">            *</span><span style="min-height: 11pt; background-color: rgb(246, 246, 246); letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 11pt; font-family: Consolas; color: rgb(199, 37, 78);">ConfigurableApplicationContext.refresh()或SpringApplication.run()中用到</span></font></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">            *</span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">            */</span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">          </span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas; text-decoration: underline;">setInitializers</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">((</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas; text-decoration: underline;">Collection</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">)</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas; text-decoration: underline;">getSpringFactoriesInstances</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">(</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">                       </span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas; text-decoration: underline;">ApplicationContextInitializer</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">.</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">class</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">));</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">          </span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">/**</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">            * 设置setListeners，设置方式和初始化器一样</span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">            */</span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">          </span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas; text-decoration: underline;">setListeners</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">((</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas; text-decoration: underline;">Collection</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">)</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas; text-decoration: underline;">getSpringFactoriesInstances</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas; text-decoration: underline;">ApplicationListener</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">.</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">class</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">));</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">          </span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">/**</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">            * 获取入口类的信息</span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">            */</span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">          </span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">this</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">.</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas; text-decoration: underline;">mainApplicationClass</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">=</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas; text-decoration: underline;">deduceMainApplicationClass</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">();</span></div><div><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: Consolas;">    }</span></span></div></div><div>其实就是获得容器<span style="font-size: 11pt; min-height: 11pt; background-color: rgb(251, 250, 248); color: rgb(63, 95, 191); font-family: 微软雅黑;">ConfigurableApplicationContext之前</span>初始化了一系列<span style="font-size: 11pt; min-height: 11pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas; text-decoration: underline;">Initializers</span>和<span style="font-size: 11pt; min-height: 11pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas; text-decoration: underline;">Listeners</span></div><div><br/></div><div><br/></div><div><br/></div><div><span style="font-size: 11pt;">实际run方法：</span></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="background-color: rgb(251, 250, 248); min-height: 11pt; font-size: 11pt; color: rgb(63, 95, 191); font-family: 微软雅黑;">   </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: 微软雅黑;">    </span><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">   </span></span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">public</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">ConfigurableApplicationContext run(String...</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">args</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">) {</span></div><div style="min-height: 11pt;"><font face="Consolas" style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(63, 95, 191);">              </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(63, 127, 95);">// 计时工具</span></font></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">              StopWatch</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">stopWatch</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">=</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">new</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">StopWatch();</span></div><div style="min-height: 11pt;"><font face="Consolas" style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(63, 95, 191);">              </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(106, 62, 62);">stopWatch</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(63, 95, 191);">.start();</span></font></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">              ConfigurableApplicationContext</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">context</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">=</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">null</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">;</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">              Collection&lt;SpringBootExceptionReporter&gt;</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">exceptionReporters</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">=</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">new</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">ArrayList&lt;&gt;();</span></div><div style="min-height: 11pt;"><font face="Consolas" style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(63, 95, 191);">              </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(63, 127, 95);">// 设置java.awt.headless系统属性为true - 没有图形化界面</span></font></div><div style="min-height: 11pt;"><font face="Consolas" style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(63, 95, 191);">              </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(63, 95, 191); text-decoration: underline;">configureHeadlessProperty</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(63, 95, 191);">();</span></font></div><div style="min-height: 11pt;"><font face="Consolas" style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(63, 95, 191);">              </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(63, 95, 191);">/**</span></font></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">               * 获取SpringApplicationRunListeners</span></span></div><div style="min-height: 11pt;"><font face="Consolas" style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(63, 95, 191);">               * getSpringFactoriesInstances方法，从META</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(127, 127, 159);">-</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(63, 95, 191);">INF/spring.factories中读取</span></font></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">               * Key为org.springframework.boot.SpringApplicationRunListener的Values</span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">               * SpringApplicationEvent：它会利用一个内部的ApplicationEventMulticaster在上下文实际被刷新之前对事件进行处理</span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">               * 它实际上是一个事件中转器，它能够感知到Spring Boot启动过程中产生的事件，然后有选择性的将事件进行中转</span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">               */</span></span></div><div style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;">                //</span> <span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: -apple-system, 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif, SimHei, SimSun;"> </span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: -apple-system, 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif, SimHei, SimSun;">Spring事件体系 <a href="https://blog.csdn.net/caihaijiang/article/details/7460888" style="font-size: 11pt; background-color: rgb(251, 250, 248); font-family: -apple-system, 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif, SimHei, SimSun; color: rgb(51, 51, 51);">https://blog.csdn.net/caihaijiang/article/details/7460888</a></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">              </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas; text-decoration: underline;">SpringApplicationRunListeners</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">listeners</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">=</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas; text-decoration: underline;">getRunListeners</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">args</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">);</span></div><div style="min-height: 11pt;"><font face="Consolas" style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(63, 95, 191);">              </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(63, 127, 95);">// 发出开始执行的事件</span></font></div><div style="min-height: 11pt;"><font face="Consolas" style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(63, 95, 191);">              </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(106, 62, 62);">listeners</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(63, 95, 191);">.starting();</span></font></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">              </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">try</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">{</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">                     ApplicationArguments</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">applicationArguments</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">=</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">new</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">DefaultApplicationArguments(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">args</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">);</span></div><div style="min-height: 11pt;"><font style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">                     </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 127, 95); font-family: Consolas;">// 根据SpringApplicationRunListeners以及参数来准备环境</span></font></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">                     ConfigurableEnvironment</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">environment</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">= prepareEnvironment(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">listeners</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">,</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">applicationArguments</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">);</span></div><div style="min-height: 11pt;"><font face="Consolas" style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(63, 95, 191);">                     </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(63, 95, 191); text-decoration: underline;">configureIgnoreBeanInfo</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(63, 95, 191);">(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(106, 62, 62);">environment</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(63, 95, 191);">);</span></font></div><div style="min-height: 11pt;"><font face="Consolas" style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(63, 95, 191);">                     </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(63, 127, 95);">// 准备Banner打印器 - 就是启动Spring Boot的时候打印在console上的ASCII艺术字体</span></font></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">                     Banner</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">printedBanner</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">=</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas; text-decoration: underline;">printBanner</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">environment</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">);</span></div><div style="min-height: 11pt;"><font style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">                     </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 127, 95); font-family: Consolas;">// 创建Spring上下文,根据之前获得的应用类型，创建<span style="min-height: 11pt; font-size: 10pt; background-color: rgb(212, 212, 212); color: rgb(63, 127, 95); font-family: Consolas;">ConfigurableApplicationContext实列<span style="box-sizing: border-box; font-size: 14px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); min-height: 11pt; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0); font-family: 'Microsoft YaHei', 宋体, 'Myriad Pro', Lato, 'Helvetica Neue', Helvetica, Arial, sans-serif;">可以看到实际上创建的</span><span style="box-sizing: border-box; font-size: 14px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); min-height: 11pt; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0); font-family: 'Microsoft YaHei', 宋体, 'Myriad Pro', Lato, 'Helvetica Neue', Helvetica, Arial, sans-serif;">是</span><a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/AnnotationConfigApplicationContext.html" style="box-sizing: border-box; font-size: 14px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 0px; min-height: 11pt; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-family: 'Microsoft YaHei', 宋体, 'Myriad Pro', Lato, 'Helvetica Neue', Helvetica, Arial, sans-serif; color: rgb(0, 153, 204);">AnnotationConfigApplicationContext</a><span style="box-sizing: border-box; font-size: 14px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); min-height: 11pt; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0); font-family: 'Microsoft YaHei', 宋体, 'Myriad Pro', Lato, 'Helvetica Neue', Helvetica, Arial, sans-serif;">或</span><a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/context/embedded/AnnotationConfigEmbeddedWebApplicationContext.html" style="box-sizing: border-box; font-size: 14px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 0px; min-height: 11pt; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-family: 'Microsoft YaHei', 宋体, 'Myriad Pro', Lato, 'Helvetica Neue', Helvetica, Arial, sans-serif; color: rgb(0, 153, 204);">AnnotationConfigEmbeddedWebApplicationContext</a><span style="box-sizing: border-box; font-size: 14px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); min-height: 11pt; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0); font-family: 'Microsoft YaHei', 宋体, 'Myriad Pro', Lato, 'Helvetica Neue', Helvetica, Arial, sans-serif;">。</span></span></span></font></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">                     </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">context</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">=</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas; text-decoration: underline;">createApplicationContext</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">();</span></div><div style="min-height: 11pt;"><div><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">                     //<span style="min-height: 11pt; font-size: 10pt; background-color: rgb(212, 212, 212); color: rgb(63, 95, 191); font-family: Consolas;">SpringBootExceptionReporter,在spring.factories中能看到</span></span></div></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">                     </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">exceptionReporters</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">=</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas; text-decoration: underline;">getSpringFactoriesInstances</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">(SpringBootExceptionReporter.</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">class</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">,</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">                                  </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">new</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">Class[] { ConfigurableApplicationContext.</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">class</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">},</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">context</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">);</span></div><div style="min-height: 11pt;"><font face="Consolas" style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(63, 95, 191);">                     </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(63, 127, 95);">// Spring上下文前置处理，<span style="white-space: pre-wrap; word-wrap: break-word; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 250, 248); font-size: 12px !important; font-family: 'Courier New'; color: rgb(0, 128, 0); line-height: 1.5;">prepareContext方法中将会执行每个initializers的逻辑</span></span></font></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">                     prepareContext(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">context</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">,</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">environment</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">,</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">listeners</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">,</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">applicationArguments</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">,</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">printedBanner</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">);</span></div><div style="min-height: 11pt;"><font face="Consolas" style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(63, 95, 191);">                     </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(63, 127, 95);">// Spring上下文刷新</span></font></div><div style="min-height: 11pt;"><font face="Consolas" style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(63, 95, 191);">                     </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(63, 95, 191); text-decoration: underline;">refreshContext</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(63, 95, 191);">(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(106, 62, 62);">context</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(63, 95, 191);">);</span></font></div><div style="min-height: 11pt;"><font face="Consolas" style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(63, 95, 191);">                     </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(63, 127, 95);">// Spring上下文后置处理</span></font></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">                     </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas; text-decoration: underline;">afterRefresh</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">context</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">,</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">applicationArguments</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">);</span></div><div style="min-height: 11pt;"><font face="Consolas" style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(63, 95, 191);">                     </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(63, 127, 95);">// 发出结束执行的事件</span></font></div><div style="min-height: 11pt;"><font face="Consolas" style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(63, 95, 191);">                     </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(106, 62, 62);">stopWatch</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(63, 95, 191);">.stop();</span></font></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">                     </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">if</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">this</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">.</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas; text-decoration: underline;">logStartupInfo</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">) {</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">                           </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">new</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas; text-decoration: underline;">StartupInfoLogger</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">this</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">.</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas; text-decoration: underline;">mainApplicationClass</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">).logStarted(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas; text-decoration: underline;">getApplicationLog</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">(),</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">stopWatch</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">);</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">                     }</span></span></div><div style="min-height: 11pt;"><font face="Consolas" style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(63, 95, 191);">                     </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(106, 62, 62);">listeners</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(63, 95, 191);">.started(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(106, 62, 62);">context</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(63, 95, 191);">);</span></font></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">                     </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas; text-decoration: underline;">callRunners</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">context</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">,</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">applicationArguments</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">);</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">              }</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">catch</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">(Throwable</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">ex</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">) {</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">                     handleRunFailure(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">context</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">,</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">ex</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">,</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">exceptionReporters</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">,</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">listeners</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">);</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">                     </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">throw</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">new</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">IllegalStateException(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">ex</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">);</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">              }</span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">              </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">try</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">{</span></div><div style="min-height: 11pt;"><font face="Consolas" style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(63, 95, 191);">                     </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(106, 62, 62);">listeners</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(63, 95, 191);">.running(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(106, 62, 62);">context</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: Consolas; color: rgb(63, 95, 191);">);</span></font></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">              }</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">catch</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">(Throwable</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">ex</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">) {</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">                     </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas; text-decoration: underline;">handleRunFailure</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">context</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">,</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">ex</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">,</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">exceptionReporters</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">,</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">null</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">);</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">                     </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">throw</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">new</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">IllegalStateException(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">ex</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">);</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">              }</span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">              </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">return</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62); font-family: Consolas;">context</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">;</span></div><div><span style="min-height: 11pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;">       }</span></span></div></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">private</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">void</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">prepareContext(ConfigurableApplicationContext</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(106, 62, 62); font-family: Consolas;">context</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">,</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                     ConfigurableEnvironment</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(106, 62, 62); font-family: Consolas;">environment</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">, SpringApplicationRunListeners</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(106, 62, 62); font-family: Consolas;">listeners</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">,</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                     ApplicationArguments</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(106, 62, 62); font-family: Consolas;">applicationArguments</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">, Banner</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(106, 62, 62); font-family: Consolas;">printedBanner</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">) {</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">              </span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(106, 62, 62); font-family: Consolas;">context</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">.setEnvironment(</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(106, 62, 62); font-family: Consolas;">environment</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">);</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">              postProcessApplicationContext(</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(106, 62, 62); font-family: Consolas;">context</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">);</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">            //<span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(0, 0, 0); font-family: 'Microsoft YaHei', 宋体, 'Myriad Pro', Lato, 'Helvetica Neue', Helvetica, Arial, sans-serif;">调用之前准备好的</span><a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/ApplicationContextInitializer.html" style="border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 250, 248); font-family: 'Microsoft YaHei', 宋体, 'Myriad Pro', Lato, 'Helvetica Neue', Helvetica, Arial, sans-serif; color: rgb(0, 153, 204);">ApplicationContextInitializer</a></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">              applyInitializers(</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(106, 62, 62); font-family: Consolas;">context</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">);</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">              </span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(106, 62, 62); font-family: Consolas;">listeners</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">.contextPrepared(</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(106, 62, 62); font-family: Consolas;">context</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">);</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">              </span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">if</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">(</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">this</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">.</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 192); font-family: Consolas;">logStartupInfo</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">) {</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                     logStartupInfo(</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(106, 62, 62); font-family: Consolas;">context</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">.getParent() ==</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">null</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">);</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                     logStartupProfileInfo(</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(106, 62, 62); font-family: Consolas;">context</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">);</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">              }</span></div><div style="min-height: 11pt;"></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">              </span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(63, 127, 95); font-family: Consolas;">// Add boot specific singleton beans</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">              </span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(106, 62, 62); font-family: Consolas;">context</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">.getBeanFactory().registerSingleton(</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(42, 0, 255); font-family: Consolas;">&quot;springApplicationArguments&quot;</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">,</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                           </span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(106, 62, 62); font-family: Consolas;">applicationArguments</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">);</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">              </span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">if</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">(</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(106, 62, 62); font-family: Consolas;">printedBanner</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">!=</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">null</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">) {</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                     </span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(106, 62, 62); font-family: Consolas;">context</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">.getBeanFactory().registerSingleton(</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(42, 0, 255); font-family: Consolas;">&quot;springBootBanner&quot;</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">,</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(106, 62, 62); font-family: Consolas;">printedBanner</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">);</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">              }</span></div><div style="min-height: 11pt;"></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">              </span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(63, 127, 95); font-family: Consolas;">// Load the sources</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">              Set&lt;Object&gt;</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(106, 62, 62); font-family: Consolas;">sources</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">= getAllSources();</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">              Assert.</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas; font-style: italic;">notEmpty</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">(</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(106, 62, 62); font-family: Consolas;">sources</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">,</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(42, 0, 255); font-family: Consolas;">&quot;Sources must not be empty&quot;</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">);</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">              load(</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(106, 62, 62); font-family: Consolas;">context</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">,</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(106, 62, 62); font-family: Consolas;">sources</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">.toArray(</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">new</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">Object[0]));</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">        //</span><span style="background-color: rgb(251, 250, 248); font-size: 12px; line-height: 1.45;">将</span><a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/SpringApplication.html" style="border: 0px; font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(0, 153, 204);">SpringApplication</a><span style="background-color: rgb(251, 250, 248); font-size: 12px; line-height: 1.45;">自己拥有的</span><a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/ApplicationListener.html" style="border: 0px; font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(0, 153, 204);">ApplicationListener</a><span style="background-color: rgb(251, 250, 248); font-size: 12px; line-height: 1.45;">加入到</span><a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/ApplicationContext.html" style="border: 0px; font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(0, 153, 204);">ApplicationContext</a><span style="background-color: rgb(251, 250, 248); font-size: 12px;">,</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(0, 0, 0); font-family: 'Microsoft YaHei', 宋体, 'Myriad Pro', Lato, 'Helvetica Neue', Helvetica, Arial, sans-serif;">发送</span><a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/context/event/ApplicationPreparedEvent.html" style="border: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 250, 248); color: rgb(0, 153, 204); font-family: 'Microsoft YaHei', 宋体, 'Myriad Pro', Lato, 'Helvetica Neue', Helvetica, Arial, sans-serif;">ApplicationPreparedEvent</a></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">              </span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(106, 62, 62); font-family: Consolas;">listeners</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">.contextLoaded(</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(106, 62, 62); font-family: Consolas;">context</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">);</span></div><div><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;"> }</span></div></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(1, 1, 1); font-family: Consolas;"># Application Context Initializers</span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(255, 70, 53); font-family: Consolas;">org.springframework.context.ApplicationContextInitializer=\</span></span></div><div style="min-height: 11pt;"><font style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(1, 1, 1); font-family: Consolas;">org.springframework.boot.context.ConfigurationWarningsApplicationContextInitializer,\    //</span><span style="min-height: 11pt; background-color: rgb(232, 242, 254); font-size: 11pt; color: rgb(63, 95, 191); font-family: Consolas;"> to report warnings for common misconfiguration,</span><span style="min-height: 11pt; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(245, 245, 245); font-size: 11pt; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;">用来报告Spring容器的一些常见的错误配置的</span></font></div><div style="min-height: 11pt;"><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(1, 1, 1); font-family: Consolas;">org.springframework.boot.context.ContextIdApplicationContextInitializer,\//</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(61, 70, 77); font-family: 'Pingfang SC', STHeiti, 'Lantinghei SC', 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', SimSun, sans-serif;">为ApplicationContext设置id</span></span></div><div style="min-height: 11pt;"><div><br/></div></div><div style="min-height: 11pt;"><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(1, 1, 1); font-family: Consolas;">org.springframework.boot.context.config.DelegatingApplicationContextInitializer,\//</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(61, 70, 77); font-family: 'Pingfang SC', STHeiti, 'Lantinghei SC', 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', SimSun, sans-serif;">委派处理ApplicationContext初始化器</span></span></div><div><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(1, 1, 1); font-family: Consolas;">org.springframework.boot.web.context.ServerPortInfoApplicationContextInitializer//</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(61, 70, 77); font-family: 'Pingfang SC', STHeiti, 'Lantinghei SC', 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', SimSun, sans-serif;">添加一个EmbeddedServletContainerInitializedEvent事件监听，触发设置嵌入的WEB服务启动端口。通过属性local.[namespace].port来设置启动端口，其中namespace为ApplicationContext指定的命名空间，如果命名空间为空，则使用local.server.port属性来表示配置的端口</span></span></div></div><div><br/></div><div><br/></div><div><br/></div><div><img src="SpringBoot_files/Image [7].png" type="image/png" data-filename=""/></div><div><br/></div><div>最终可以看到<span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0); font-family: Monaco, Consolas, 'Andale Mono', 'DejaVu Sans Mono', monospace;">AbstractApplicationContext的<span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0); font-family: Monaco, Consolas, 'Andale Mono', 'DejaVu Sans Mono', monospace;">refresh方法</span></span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">       </span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(100, 100, 100); font-family: Consolas;">@Override</span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">       </span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">public</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">void</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(212, 212, 212); color: rgb(51, 51, 51); font-family: Consolas;">refresh</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">()</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">throws</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">BeansException, IllegalStateException {</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">              </span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">synchronized</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">(</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">this</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">.</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 192); font-family: Consolas;">startupShutdownMonitor</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">) {</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                     </span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(63, 127, 95); font-family: Consolas;">// Prepare this context for refreshing.</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                     prepareRefresh();</span></div><div style="color: rgb(0, 0, 0); min-height: 11pt;"></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                     </span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(63, 127, 95); font-family: Consolas;">// Tell the subclass to refresh the internal bean factory.</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                     ConfigurableListableBeanFactory</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(106, 62, 62); font-family: Consolas;">beanFactory</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">= obtainFreshBeanFactory();</span></div><div style="color: rgb(0, 0, 0); min-height: 11pt;"></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                     </span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(63, 127, 95); font-family: Consolas;">// Prepare the bean factory for use in this context.</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                     prepareBeanFactory(</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(106, 62, 62); font-family: Consolas;">beanFactory</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">);</span></div><div style="color: rgb(0, 0, 0); min-height: 11pt;"></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                     </span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">try</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">{</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                           </span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(63, 127, 95); font-family: Consolas;">// Allows post-processing of the bean factory in context subclasses.</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                           postProcessBeanFactory(</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(106, 62, 62); font-family: Consolas;">beanFactory</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">);</span></div><div style="color: rgb(0, 0, 0); min-height: 11pt;"></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                           </span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(63, 127, 95); font-family: Consolas;">// Invoke factory processors registered as beans in the context.</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                          </span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(255, 0, 0); font-family: Consolas;"> invokeBeanFactoryPostProcessors(</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(255, 0, 0); font-family: Consolas;">beanFactory</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(255, 0, 0); font-family: Consolas;">);</span></div><div style="color: rgb(0, 0, 0); min-height: 11pt;"></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                           </span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(63, 127, 95); font-family: Consolas;">// Register bean processors that intercept bean creation.</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                           registerBeanPostProcessors(</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(106, 62, 62); font-family: Consolas;">beanFactory</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">);</span></div><div style="color: rgb(0, 0, 0); min-height: 11pt;"></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                           </span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(63, 127, 95); font-family: Consolas;">// Initialize message source for this context.</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                           initMessageSource();</span></div><div style="color: rgb(0, 0, 0); min-height: 11pt;"></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                           </span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(63, 127, 95); font-family: Consolas;">// Initialize event multicaster for this context.</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                           initApplicationEventMulticaster();</span></div><div style="color: rgb(0, 0, 0); min-height: 11pt;"></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                           </span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(63, 127, 95); font-family: Consolas;">// Initialize other special beans in specific context subclasses.</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                           onRefresh();</span></div><div style="color: rgb(0, 0, 0); min-height: 11pt;"></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                           </span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(63, 127, 95); font-family: Consolas;">// Check for listener beans and register them.</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                           registerListeners();</span></div><div style="color: rgb(0, 0, 0); min-height: 11pt;"></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                           </span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(63, 127, 95); font-family: Consolas;">// Instantiate all remaining (non-lazy-init) singletons.</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                           finishBeanFactoryInitialization(</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(106, 62, 62); font-family: Consolas;">beanFactory</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">);</span></div><div style="color: rgb(0, 0, 0); min-height: 11pt;"></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                           </span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(63, 127, 95); font-family: Consolas;">// Last step: publish corresponding event.</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                           finishRefresh();</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                     }</span></div><div style="color: rgb(0, 0, 0); min-height: 11pt;"></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                     </span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">catch</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">(BeansException</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(106, 62, 62); font-family: Consolas;">ex</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">) {</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                           </span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">if</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">(</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 192); font-family: Consolas;">logger</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">.isWarnEnabled()) {</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                                  </span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 192); font-family: Consolas;">logger</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">.warn(</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(42, 0, 255); font-family: Consolas;">&quot;Exception encountered during context initialization - &quot;</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">+</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                                                </span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(42, 0, 255); font-family: Consolas;">&quot;cancelling refresh attempt: &quot;</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">+</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(106, 62, 62); font-family: Consolas;">ex</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">);</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                           }</span></div><div style="color: rgb(0, 0, 0); min-height: 11pt;"></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                           </span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(63, 127, 95); font-family: Consolas;">// Destroy already created singletons to avoid dangling resources.</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                           destroyBeans();</span></div><div style="color: rgb(0, 0, 0); min-height: 11pt;"></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                           </span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(63, 127, 95); font-family: Consolas;">// Reset 'active' flag.</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                           cancelRefresh(</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(106, 62, 62); font-family: Consolas;">ex</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">);</span></div><div style="color: rgb(0, 0, 0); min-height: 11pt;"></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                           </span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(63, 127, 95); font-family: Consolas;">// Propagate exception to caller.</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                           </span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">throw</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(106, 62, 62); font-family: Consolas;">ex</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">;</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                     }</span></div><div style="color: rgb(0, 0, 0); min-height: 11pt;"></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                     </span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">finally</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">{</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                           </span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(63, 127, 95); font-family: Consolas;">// Reset common introspection caches in Spring's core, since we</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                           </span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(63, 127, 95); font-family: Consolas;">// might not ever need metadata for singleton beans anymore...</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                           resetCommonCaches();</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">                     }</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">              }</span></div><div><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">       }</span></div></div><div><br/></div><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0); font-family: Monaco, Consolas, 'Andale Mono', 'DejaVu Sans Mono', monospace;">在之前的的讲解中可以看到调用栈<span style="min-height: 11pt; font-size: 10pt; color: rgb(51, 51, 51); font-family: Consolas;"> invokeBeanFactoryPostProcessors(</span><span style="min-height: 11pt; font-size: 10pt; color: rgb(106, 62, 62); font-family: Consolas;">beanFactory</span><span style="min-height: 11pt; font-size: 10pt; color: rgb(51, 51, 51); font-family: Consolas;">);这里的时候，自动配置会起作用</span></span></span></div><div><br/></div><div><br/></div><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px 0px 16px; text-align: justify; word-break: break-all;"><span style="box-sizing: border-box; outline: 0px; word-break: break-all;"><span style="font-size: 11pt; color: rgb(79, 79, 79); line-height: 26px;">SpringApplication实例的构建过程</span></span></div><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px 0px 16px; text-align: justify; word-break: break-all;"><span style="box-sizing: border-box; outline: 0px; word-break: break-all;"><span style="font-size: 11pt; color: rgb(79, 79, 79); line-height: 26px;">其中主要涉及到了初始化器(Initializer)以及监听器(Listener)这两大概念，它们都通过META-INF/spring.factories完成定义。</span></span></div><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px 0px 16px; text-align: justify; word-break: break-all;"><span style="box-sizing: border-box; outline: 0px; word-break: break-all;"><span style="font-size: 11pt; color: rgb(79, 79, 79); line-height: 26px;">SpringApplication实例run方法的执行过程</span></span></div><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px 0px 16px; text-align: justify; word-break: break-all;"><span style="box-sizing: border-box; outline: 0px; word-break: break-all;"><span style="font-size: 11pt; color: rgb(79, 79, 79); line-height: 26px;">其中主要有一个SpringApplicationRunListeners的概念，它作为Spring Boot容器初始化时各阶段事件的中转器，将事件派发给感兴趣的Listeners(在SpringApplication实例的构建过程中得到的)。这些阶段性事件将容器的初始化过程给构造起来，提供了比较强大的可扩展性。</span></span></div><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px 0px 16px; text-align: justify; word-break: break-all;"><br/></div><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px 0px 16px; text-align: justify; word-break: break-all;"><div><br/></div><div><br/></div><div><br/></div></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><span style="font-size: 11pt;">改造过程中遇到的坑</span></div><div><span style="font-size: 11pt;">1.原先项目改造中，有大量的xml配置文件，如果单纯的改为springboot项目的无xml配置，反而很麻烦，和springboot的某些目的背道而驰</span></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: 微软雅黑;">@Configuration</span></span></div><div style="min-height: 11pt;"><font face="微软雅黑" style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: 微软雅黑; color: rgb(100, 100, 100);">@ImportResource</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: 微软雅黑; color: rgb(51, 51, 51);">(locations={</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: 微软雅黑; color: rgb(42, 0, 255);">&quot;classpath:context/ehcache.xml&quot;</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: 微软雅黑; color: rgb(51, 51, 51);">})</span></font></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: 微软雅黑;">public</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: 微软雅黑;">class</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: 微软雅黑;">EncacheConfig {</span></div><div style="min-height: 11pt;"></div><div><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: 微软雅黑;">}</span></span></div></div><div><br/></div><div><br/></div><div><br/></div><div><span style="font-size: 11pt;">2.在一个系统中，出现多个datasource时候出现的问题</span></div><div><br/></div><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', 'Microsoft Yahei';">自动装配（autowiring）要求bean的匹配具备唯一性，否则就会产生歧义，从而抛出异常</span></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100); font-family: 微软雅黑;">@EnableAutoConfiguration</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: 微软雅黑;">(</span><span style="min-height: 11pt; background-color: rgb(212, 212, 212); font-size: 11pt; color: rgb(51, 51, 51); font-family: 微软雅黑;">exclude</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: 微软雅黑;">= { DataSourceAutoConfiguration.</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: 微软雅黑;">class</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: 微软雅黑;">, RedisAutoConfiguration.</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85); font-family: 微软雅黑;">class</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(51, 51, 51); font-family: 微软雅黑;">,</span></div><div><font face="微软雅黑" style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: 微软雅黑; color: rgb(51, 51, 51);">              DataSourceTransactionManagerAutoConfiguration.</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: 微软雅黑; color: rgb(127, 0, 85);">class</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; font-family: 微软雅黑; color: rgb(51, 51, 51);">, })</span></font></div></div><div><br/></div><div><br/></div><div><span style="font-size: 11pt;">3.spring项目启动太慢的问题</span></div><div><span style="min-height: 11pt; font-size: 10pt; font-family: Consolas;">54607 ms</span></div><div><span style="min-height: 11pt; font-size: 10pt; font-family: Consolas;">删除<span style="min-height: 11pt; font-size: 10pt; background-color: rgb(232, 242, 254); font-family: Consolas; color: rgb(63, 127, 95);">@SpringBootApplication  <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(232, 242, 254); font-family: Consolas; color: rgb(63, 127, 95);">52118ms  几乎没有区别</span></span></span></div><div><span style="min-height: 11pt; font-size: 10pt; font-family: Consolas;">修改import  <span style="min-height: 11pt; font-size: 10pt; font-family: Consolas;">36238 ms</span></span></div><div><span style="min-height: 11pt; font-size: 10pt; font-family: Consolas;">最终改为</span></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(100, 100, 100); font-family: Consolas;">@Configuration</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(100, 100, 100); font-family: Consolas;">@Import</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">({</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">        DispatcherServletAutoConfiguration.</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">class</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">,</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(63, 127, 95); font-family: Consolas;">//        EmbeddedServletContainerAutoConfiguration.class,</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(63, 127, 95); font-family: Consolas;">//        ErrorMvcAutoConfiguration.class,</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(63, 127, 95); font-family: Consolas;">//        HttpEncodingAutoConfiguration.class,</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">        HttpMessageConvertersAutoConfiguration.</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">class</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">,</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(63, 127, 95); font-family: Consolas;">//        JacksonAutoConfiguration.class,</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(63, 127, 95); font-family: Consolas;">//        JmxAutoConfiguration.class,</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(63, 127, 95); font-family: Consolas;">//        MultipartAutoConfiguration.class,</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">        ServerPropertiesAutoConfiguration.</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">class</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">,</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">        WebMvcAutoConfiguration.</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">class</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">,</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(63, 127, 95); font-family: Consolas;">//        WebSocketAutoConfiguration.class,</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">})</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(100, 100, 100); font-family: Consolas;">@ComponentScan</span><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">({</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(42, 0, 255); font-family: Consolas;">&quot;com.fanli.*&quot;</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">})</span></div><div><span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">public</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">class</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">Application</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(127, 0, 85); font-family: Consolas; font-weight: bold;">extends</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(212, 212, 212); color: rgb(51, 51, 51); font-family: Consolas;">SpringBootServletInitializer</span> <span style="min-height: 11pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Consolas;">{</span></div></div><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(51, 51, 51); font-family: verdana, Arial, Helvetica, sans-serif;">@SpringBootApplication注解来自动获取应用的配置信息，但这样也会带来一些副作用。使用这个注解后，会触发自动配置（auto-configuration）和组件扫描（component scanning），这跟使用@Configuration、@EnableAutoConfiguration和@ComponentScan三个注解的作用是</span></div><div><br/></div><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(51, 51, 51); font-family: verdana, Arial, Helvetica, sans-serif;">可以通过<span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(36, 41, 46); font-family: 'Microsoft YaHei', 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">Actuator的<span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(36, 41, 46); font-family: 'Microsoft YaHei', 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">/autoconfig接口去看</span></span></span></div><div><img src="SpringBoot_files/Image [8].png" type="image/png" data-filename="" style="font-family: Microsoft YaHei; font-size: 12pt; color: rgb(36, 41, 46);"/></div><div><br/></div><div><br/></div><div><span style="font-size: 11pt;">4.多个springboot项目在同一台机器上启动（内测）时候的问题，多应用在同一个容器中</span></div><div><br/></div><div><font style="font-size: 11pt;"><span style="min-height: 11pt; font-size: 11pt;">spring.jmx.default-domain=</span><span style="min-height: 11pt; font-size: 11pt; color: rgb(42, 0, 255);">opendomain</span></font></div><div><font style="font-size: 11pt;"><span style="min-height: 11pt; font-size: 11pt;">endpoints.jmx.domain=</span><span style="min-height: 11pt; font-size: 11pt; color: rgb(42, 0, 255);">opendomain</span></font></div><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 11pt; color: rgb(51, 51, 51);">指定JMX domain name</span></span></div><div><a href="https://www.zhihu.com/question/36688387" style="font-size: 11pt;">https://www.zhihu.com/question/36688387</a></div><div><a href="https://stackoverflow.com/questions/28197414/spring-cloud-error-deploying-two-eureka-clients-in-one-container" style="font-size: 11pt;">https://stackoverflow.com/questions/28197414/spring-cloud-error-deploying-two-eureka-clients-in-one-container</a></div><div><br/></div><div><br/></div><div><br/></div><div><span style="font-size: 11pt;">5.log日志的问题</span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><font style="font-size: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100);">@Order</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">(1)</span></font></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85);">public</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85);">class</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">CommonInitializer</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85);">implements</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">WebApplicationInitializer {</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">   </span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(100, 100, 100);">@Override</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">   </span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85);">public</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85);">void</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">onStartup(ServletContext</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">servletContext</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">)</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">           </span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85);">throws</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">ServletException {</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">       </span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 127, 95);">//Log4jConfigListener</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">       </span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">servletContext</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">.setInitParameter(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(42, 0, 255);">&quot;webAppRootKey&quot;</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">,</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(42, 0, 255);">&quot;mall-open-api.root&quot;</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">);</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">       </span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">servletContext</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">.setInitParameter(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(42, 0, 255);">&quot;log4jConfigLocation&quot;</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">,</span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(42, 0, 255);">&quot;classpath:properties/log4j.properties&quot;</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">);</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">       </span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(106, 62, 62);">servletContext</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">.addListener(</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; text-decoration: line-through underline;">Log4jConfigListener</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">.</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(127, 0, 85);">class</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">);</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt;">       </span> <span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 11pt; color: rgb(63, 127, 95);">//OpenSessionInViewFilter</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248); font-size: 11pt;">      </span></span></div><div style="min-height: 11pt;"><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248); font-size: 11pt;">    }</span></span></div><div><span style="min-height: 11pt;"><span style="background-color: rgb(251, 250, 248); font-size: 11pt;">}</span></span></div></div><div><br/></div><h4 style="box-sizing: border-box; margin: 0px 0px 15px; text-rendering: optimizelegibility; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; text-rendering: optimizelegibility; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(246, 246, 246); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; border: none; vertical-align: middle;"><span style="background-color: rgb(246, 246, 246); font-size: 11pt; color: rgb(199, 37, 78); font-weight: normal; line-height: 1.7;">ServletContainerInitializer</span></span></h4><h4 style="box-sizing: border-box; margin: 0px 0px 15px; text-rendering: optimizelegibility; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="background-color: rgb(255, 255, 255); font-size: 11pt; color: rgb(47, 47, 47); font-weight: normal; line-height: 1.45;">Servlet 3.0引入的接口，用于在web应用启动时动态添加servlet、filter和listener；</span></h4><div><span style="font-size: 11pt;">基于spi机制，META-INF/services/javax.servlet.ServletContainerInitializer文件中存放实现该接口的类，这些类会被容器调用</span></div><div><br style="color: rgb(79, 79, 79);"/></div><div><br/></div><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 11pt; color: rgb(79, 79, 79);">SpringServletContainerInitializer作为ServletContainerInitializer的实现类，通过SPI机制，在web容器加载的时候会自动的被调用。（这个类上还有一个注解@HandlesTypes，它的作用是将感兴趣的一些类注入到ServletContainerInitializerde）， 而这个类的方法又会扫描找到WebApplicationInitializer的实现类，调用它的onStartup方法，从而起到启动web.xml相同的作用。</span></span></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></div><div><br/></div></span>
</div></body></html>
